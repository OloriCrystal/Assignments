"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8393],{68368:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(35944),i=(t(67294),t(94184)),a=t.n(i),o=t(15085);function c(e){return(0,r.tZ)("div",{className:a()("dialog",{"is-destructive":e.isDestructive}),children:(0,r.BX)(o.G7,{css:[o.l0.colWithGap(24)],children:[(0,r.tZ)(o.h4,{variant:"headerDefault",level:2,children:e.title}),"string"===typeof e.children?(0,r.tZ)(o.xv,{multiline:!0,children:e.children}):e.children,(0,r.BX)(o.G7,{css:[o.l0.rowWithGap(12),o.l0.justify.end],children:[(0,r.tZ)(o.zx,{onClick:e.onCancel,text:"Cancel"}),(0,r.tZ)(o.zx,{colorway:e.isDestructive?"negative":"primary",onClick:e.onConfirm,text:e.confirmLabel||"Confirm"})]})]})})}},92098:function(e,n,t){t.d(n,{Z:function(){return Z}});var r=t(35944),i=(t(67294),t(87013)),a=t(49041),o=t(28067),c=t(68548),u=t(1864),l=Array.prototype.concat,s=function(e){return{recursive:!0===e||!!e.recursive,bail:e.bail&&e.bail>0?e.bail:1e3}},d=function(e){return"file"===e.kind},f=function(e){return"function"===typeof e.getAsEntry?e.getAsEntry():e.webkitGetAsEntry?e.webkitGetAsEntry():null},p=function(e){return l.apply([],e)},h=function(e,n,t,r){var i;return i=e.isDirectory?n.recursive?v(e,n,t+1,(0,u.join)(r,e.name)):Promise.resolve([]):function(e){return new Promise((function(n,t){e.file?e.file(n,t):n(null)})).catch((function(){return null}))}(e).then((function(e){return e&&(e.path=(0,u.join)(r,e.name)),e?[e]:[]})),i},v=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.name;return e&&t<n.bail&&e.isDirectory&&e.createReader?new Promise((function(i){e.createReader().readEntries((function(e){return Promise.all(e.map((function(e){return h(e,n,t,r)}))).then((function(e){return i(p(e))}))}),(function(){return i([])}))})):Promise.resolve([])},m=v,b=function(e,n){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m(f(e),s(n))}(e,n).then((function(n){if(!n.length){var t=e.getAsFile();n=t?[t]:n}return n}))};var g={dragDropManager:(0,i.i)((function(e){var n=(0,a.PD)(e),t=n.handleTopDropCapture;return n.handleTopDropCapture=function(e){var r,i=n.monitor.getItemType();i===o.HTML||i===o.TEXT?(n.dropTargetIds=[],null===(r=n.currentNativeSource)||void 0===r||r.loadDataTransfer(e.dataTransfer),n.enterLeaveCounter.reset()):t.call(n,e);n.currentNativeSource&&(n.currentNativeSource.item.dirContent=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=s(n),new Promise((function(t){var r,i;(null===e||void 0===e||null===(r=e.dataTransfer)||void 0===r?void 0:r.items)?Promise.all(p(e.dataTransfer.items).filter((function(e){return d(e)})).map((function(e){return b(e,n)}))).then((function(e){return t(p(e))})):(null===e||void 0===e||null===(i=e.dataTransfer)||void 0===i?void 0:i.files)?t(p(e.dataTransfer.files)):t([])}))}(e,{recursive:!0}))},n}))};function Z(e){return(0,r.tZ)(c.L.Provider,{value:g,children:e.children})}},62794:function(e,n,t){var r=t(10253),i=t(35944),a=t(67294),o=t(48821),c=t(1879),u=t(69346),l=t(10164),s=t(81255),d=t(1144);n.Z=function(e){var n=e.feature,t=(0,r.Z)(a.useState(!1),2),f=t[0],p=t[1];return(0,i.BX)(i.HY,{children:[(0,i.tZ)(u.Z,{onClick:function(){return p(!f)},children:(0,i.tZ)(d.x,{css:[s.l0.fontSize("inherit"),s.l0.color.accentPrimaryStronger,s.l0.cursor.pointer,{":hover":{color:s.TV.accentPrimaryStrongest}}],children:"Share feedback"})}),(0,i.tZ)(o.b5,{children:(0,i.tZ)(c.Z,{isOpen:f,onRequestClose:function(){p(!1)},children:(0,i.tZ)(l.Z,{setFeedbackFormOpen:p,feature:n})})})]})}},30758:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(67294);function i(e){var n=(0,r.useState)(!1),t=n[0],i=n[1],a=(0,r.useRef)(0),o=(0,r.useMemo)((function(){return{onDragEnter:function(e){e.preventDefault(),a.current++,i(!0)},onDragLeave:function(e){e.preventDefault(),a.current--,0===a.current&&i(!1)},onDrop:function(n){var t,r;n.preventDefault(),a.current=0,i(!1),n.persist();var o=Array.from(null!==(r=null===n||void 0===n||null===(t=n.dataTransfer)||void 0===t?void 0:t.files)&&void 0!==r?r:[]);0!==o.length?e(o):e(null)},onDragOver:function(e){e.preventDefault()}}}),[e]);return[t,o]}},60459:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(47568),i=t(10253),a=t(34051),o=t.n(a),c=t(67294),u=t(62722);function l(e){var n=e.onUploadPreview,t=e.onUpload,a=e.onError,l=(0,i.Z)(c.useState(!1),2),s=l[0],d=l[1],f=c.useCallback(function(){var e=(0,r.Z)(o().mark((function e(r,i){var c,l,s,f,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=2,e.next=5,(0,u.o1)(r);case 5:c=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),a(new Error("This image is over the ".concat(u.bq/1e6,"MB maximum"))),e.abrupt("return",!1);case 12:return n({dataUrl:c}),l=null,e.prev=14,e.next=17,(0,u.mh)(c,i);case 17:l=e.sent,e.next=25;break;case 20:return e.prev=20,e.t1=e.catch(14),s=e.t1.message.toLowerCase().includes("entity too large")?"This image is over the 1mb maximum":"Something went wrong",a(new Error(s)),e.abrupt("return",!1);case 25:if(f=l.id,p=l.url,"number"===typeof f){e.next=28;break}throw new Error("Expected id");case 28:if("string"===typeof p){e.next=30;break}throw new Error("Expected url");case 30:return d(!1),e.prev=31,e.next=34,t({id:f,url:p});case 34:e.next=40;break;case 36:return e.prev=36,e.t2=e.catch(31),a(e.t2),e.abrupt("return",!1);case 40:return e.abrupt("return",!0);case 41:case"end":return e.stop()}}),e,null,[[2,8],[14,20],[31,36]])})));return function(n,t){return e.apply(this,arguments)}}(),[a,t,n]);return{isLoading:s,uploadImage:f}}},68122:function(e,n,t){var r=t(10253),i=t(67294);n.Z=function(e){var n=(0,r.Z)(i.useState((function(){return e?e.current:null})),2),t=n[0],a=n[1];return i.useEffect((function(){if(a((function(){return e?e.current:null})),e)return e.subscribe((function(e){return a((function(){return e}))}))}),[e]),t}},63377:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(67294),i=t(35621);function a(){var e=r.useContext(i.Z);if(!e)throw new Error("Expected Repl info to be in context");return e.id}},76216:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(67294),i=t(35621);function a(){var e=r.useContext(i.Z);if(!e)throw new Error("Expected Repl info to be in context");return e.language}},48506:function(e,n,t){function r(e){var n=e.trim();return 0===n.length||n.startsWith("#")}function i(e,n){return e.split(n).length-1}function a(e){if(!e.includes("#"))return e;var n=e.split("#"),t=!1,r=[],a=!0,o=!1,c=void 0;try{for(var u,l=n[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var s=u.value;(1===i(s,'"')||i(s,"'"))&&(t?(t=!1,r.push(s)):t=!0),(0===r.length||t)&&r.push(s)}}catch(d){o=!0,c=d}finally{try{a||null==l.return||l.return()}finally{if(o)throw c}}return r.join("#")}function o(e,n){var t=e.trim();if(0===t.length)return t;var r=t.length-1,i='"'===t[0]&&'"'===t[r],a="'"===t[0]&&"'"===t[r];return(a||i)&&(t=t.slice(1,-1)),i&&(t=(t=t.replace(/\\./g,(function(e){return"\\n"===e?"\n":"\\r"===e?"\r":e}))).replace(/\\([^$])/g,"$1")),a||(t=t.replace(/(\\)?(\$)(\()?\{?([A-Z0-9_]+)?\}?/g,(function(e){var t=e.match(/(\\)?(\$)(\()?\{?([A-Z0-9_]+)?\}?/);if(null===t)return e;if("\\"===t[1]||"("===t[2])return t[0].slice(1);var r=t[4];return""!==r?n[r]||"":e}))),t}t.d(n,{Z:function(){return u}});var c=t(10253);var u={parse:function(e){var n={},t=e.split(/\n|\r|\r\n/),i=!0,c=!1,u=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var d=l.value;if(!r(d)){var f=(d=a(d)).indexOf("="),p=d.indexOf(":");if(-1!==p||-1!==f){var h=f;-1!==p&&(p<f||-1===f)&&(h=p);var v=d.slice(0,h).replace(/^\s*(?:export\s+)?(.*?)\s*$/,"$1"),m=o(d.slice(h+1),n);n[v]=m}}}}catch(b){c=!0,u=b}finally{try{i||null==s.return||s.return()}finally{if(c)throw u}}return n},serialize:function(e){return Object.entries(e).reduce((function(e,n){var t=(0,c.Z)(n,2),r=t[0],i=t[1].replace(/\\([^$])/g,"\\\\$1").replace(/\$/g,"\\\\$$").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r");return e+="".concat(r,'="').concat(i,'"\n')}),"")}}},12061:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(47568),i=t(34051),a=t.n(i),o=t(15519),c=t(58794);function u(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(a().mark((function e(n){var t,r,i,u,l,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.fs,r=n.language,e.next=3,t.readDir(".");case 3:if(!(i=e.sent).error){e.next=6;break}throw new Error("Could not read files");case 6:return u=i.children,!(l=o.Z.getMainFileName(r))&&u.length&&(l=u[0].filename),e.next=11,t.readFile(l);case 11:if(!(s=e.sent).error){e.next=14;break}throw s.error;case 14:return e.abrupt("return",c.Z.from(s.content).toString());case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},83241:function(e,n){n.Z={sandbox:"allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox allow-modals allow-downloads allow-downloads-without-user-activation allow-presentation allow-orientation-lock allow-scripts",allow:"accelerometer; ambient-light-sensor; autoplay; battery; camera; display-capture; encrypted-media; execution-while-not-rendered; execution-while-out-of-viewport; fullscreen; gamepad; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; navigation-override; oversized-images; payment; picture-in-picture; publickey-credentials; speaker-selection; sync-xhr; unoptimized-images; unsized-media; usb; screen-wake-lock; web-share; xr-spatial-tracking",allowFullScreen:!0,allowTransparency:!0,allowpaymentrequest:!0}},62722:function(e,n,t){t.d(n,{W9:function(){return p},bq:function(){return u},mh:function(){return d},o1:function(){return l}});var r=t(47568),i=t(34051),a=t.n(i),o=t(15794),c=t(32703),u=1e7;function l(e){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.L0)(n);case 2:if(t=e.sent,!(n.size>u)){e.next=5;break}throw new Error("This image is over the ".concat(u/1e6,"MB maximum"));case 5:if(t){e.next=7;break}throw new Error("Expected file");case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,n){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(a().mark((function e(n,t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.uz)("/data/images/upload",{image:n,context:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=["image/png","image/jpeg","image/gif","image/webp"]},32703:function(e,n,t){t.d(n,{L0:function(){return u},Xy:function(){return o},pV:function(){return c}});var r,i=t(82670);!function(e){e.ArrayBuffer="ARRAY_BUFFER",e.BinaryString="BINARY_STRING",e.DataURL="DATA_URL",e.Text="TEXT"}(r||(r={}));var a=function(e,n){return(0,i.Z)(e,window.File)?new Promise((function(t,i){var a=new window.FileReader;switch(a.onload=function(n){var r;(null===(r=n.target)||void 0===r?void 0:r.result)?t(n.target.result):i(new Error('Failed to read file "'.concat(e.name,'"')))},a.onerror=i,n){case r.ArrayBuffer:a.readAsArrayBuffer(e);break;case r.BinaryString:a.readAsBinaryString(e);break;case r.DataURL:a.readAsDataURL(e);break;case r.Text:a.readAsText(e)}})):Promise.all(Array.from(e).filter((function(e){return!!e})).map((function(e){return a(e,n)})))},o=function(e){return a(e,r.Text)},c=function(e){return a(e,r.ArrayBuffer)},u=function(e){return a(e,r.DataURL)}},42456:function(e,n,t){t.d(n,{A:function(){return u},Z:function(){return c}});var r=t(67294),i=t(91131),a=t(64824),o=t(95068);function c(){return(0,i.Dv)(o.EP)}function u(){return(0,a.lV)((0,r.useCallback)((function(e){return e(o.EP)}),[]))}},95068:function(e,n,t){t.d(n,{EP:function(){return p},MI:function(){return w},Md:function(){return h},QP:function(){return g},S6:function(){return v},Sg:function(){return Z},_E:function(){return s},dD:function(){return y},g4:function(){return d},jM:function(){return x},yv:function(){return f}});var r=t(10253),i=t(29815),a=t(91131),o=t(18172),c=t(48551),u=t(54992),l=t(12727),s=(0,a.cn)(!0),d=(0,a.cn)({tiling:null,floating:[]}),f=(0,a.cn)([]),p=(0,a.cn)((function(e){var n=e(f),t=e(g);return t?n.filter((function(e){return e!==t})):n})),h=(0,a.cn)(null),v=(0,a.cn)((function(e){return e(l.Eh).filter((function(n){return(0,u.KM)(e(n.data))}))})),m=(0,a.cn)((function(e){return e(v).filter((function(e){return!e.isHidden}))})),b=(0,a.cn)((function(e){var n=(0,r.Z)(e(f),1)[0];return n&&e(m).find((function(t){var r=e(t.data);return!!(0,u.KM)(r)&&(0,u.DQ)(r)===n}))||null})),g=(0,a.cn)((function(e){var n=e(b);if(!n)return null;var t=e(n.data);return(0,u.DQ)(t)})),Z=(0,a.cn)(null,(function(e,n,t){n(f,(function(e){return[t].concat((0,i.Z)(e.filter((function(e){return e!==t})))).slice(0,6)})),(0,c.gK)(t)&&n(h,t)})),x=(0,a.cn)(null,(function(e,n,t){n(f,(function(e){return e.filter((function(e){return e!==t}))})),e(h)===t&&n(h,null)})),w=(0,a.cn)(null,(function(e,n,t){var r=e(f),i=r.indexOf(t.from);i>-1&&n(f,(0,o.ZP)(r,(function(e){e.splice(i,1,t.to)}))),e(h)===t.from&&n(h,t.to)})),y=(0,a.cn)((function(e){var n=e(l.CK);return Boolean(n.width&&n.height)}))},12727:function(e,n,t){t.d(n,{CK:function(){return x},Eh:function(){return m},If:function(){return d},M0:function(){return Z},WA:function(){return u},X2:function(){return l},Xs:function(){return g},g3:function(){return s},gg:function(){return f},vA:function(){return w},vv:function(){return b},z:function(){return v},z2:function(){return y}});var r=t(26042),i=t(29815),a=t(91131),o=t(64824),c=t(21131),u=(0,a.cn)([]),l=(0,a.cn)([]),s=(0,a.cn)([]),d=(0,a.cn)([]),f=(0,a.cn)((function(e){var n=(0,i.Z)(e(u)),t=(0,i.Z)(e(l));return(0,i.Z)(n).concat((0,i.Z)(t))})),p={x:0,y:0,width:0,height:0},h={type:"commands",data:{autoFocus:!1}};var v=(0,o.xu)((function(e){return(0,a.cn)(function(e){return{paneId:e,type:"tile",rectAtom:(0,a.cn)((0,r.Z)({},p)),data:(0,a.cn)((0,r.Z)({},h)),isHidden:!1,isDialog:!1,dropBehavior:null}}(e))})),m=(0,a.cn)((function(e){return e(f).map((function(n){return e(v(n))}))})),b=(0,o.xu)((function(e){return(0,a.cn)(function(e){return{handleId:e,rect:p,stacked:!1,parentPath:["tiling"],leftPath:["tiling"],rightPath:["tiling"]}}(e))})),g=(0,o.xu)((function(e){return(0,a.cn)({id:e,rectAtom:(0,a.cn)((0,r.Z)({},p)),panes:[],path:["tiling"],activeIndex:0})})),Z=(0,a.cn)((function(){return 36})),x=(0,a.cn)({x:0,y:0,width:0,height:0}),w=(0,a.cn)(null,(function(e,n){e(f).forEach(v.remove),e(s).forEach(b.remove),e(d).forEach(g.remove),n(u,[]),n(l,[]),n(s,[]),n(d,[]),n(x,{x:0,y:0,width:0,height:0})}));function y(e){var n=(0,c.Z)((function(){return(0,a.cn)((function(n){return n(m).find((function(t){return!t.isHidden&&n(t.data).type===e}))}))}),[e]);return(0,a.Dv)(n)}},29359:function(e,n,t){t.d(n,{sI:function(){return s},wP:function(){return f}});var r=t(26042),i=t(7297),a=t(31230),o=t(50319);function c(){var e=(0,i.Z)(["\n  fragment ReplViewerOutputOverlayRepl on Repl {\n    id\n    title\n    imageUrl\n    lastPublishedAt\n    currentUserPermissions {\n      changeImageUrl\n    }\n  }\n"]);return c=function(){return e},e}function u(){var e=(0,i.Z)(["\n  mutation ReplViewerOutputOverlayUpdateRepl($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        imageUrl\n      }\n    }\n  }\n"]);return u=function(){return e},e}var l={},s=(0,a.Ps)(c()),d=(0,a.Ps)(u());function f(e){var n=(0,r.Z)({},l,e);return o.D(d,n)}},41307:function(e,n,t){t.d(n,{Z:function(){return A},y:function(){return D}});var r=t(26042),i=t(69396),a=t(10253),o=t(35944),c=t(67294),u=t(30758),l=t(81255),s=t(69346),d=t(61756),f=t(57704),p=t(68368),h=t(1879),v=t(29359),m=t(60459),b=t(29163),g=t(62913),Z=t(70917),x=t(1144),w=t(49619),y=t(60977),k=t(62722),C=t(7657),E=t(15833),R=t(8633),T=(0,Z.iv)({position:"absolute",top:0,left:0,width:"100%",height:"100%"});function D(e){var n=e.src,t=e.alt;return(0,o.BX)(s.Z,{css:[T,{borderBottomLeftRadius:8,borderBottomRightRadius:8,overflow:"hidden"}],children:[(0,o.tZ)(g.Z,{objectFit:"cover",layout:"fill",src:n,alt:t}),(0,o.tZ)(s.Z,{css:[T,{background:"radial-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.6))",backgroundRepeat:"no-repeat"}]})]})}function P(e){var n=e.onClick;return(0,o.tZ)(s.Z,{onClick:function(){(0,y.j)(y.U3.RUN_BUTTON_CLICKED,{context:"replView",overlay:!0}),n()},css:[T,l.l0.center,{":hover > svg":{transform:"scale(1.2)"},"> svg":{transition:"transform 200ms",width:64,height:"auto",cursor:"pointer",filter:l.TV.shadowDefault}}],children:(0,o.tZ)(R.Z,{color:l.TV.white})})}function j(e){var n=e.isPublished,t=e.onChangeClick,r=e.onRemoveClick,i=(0,a.Z)(c.useState(!1),2),u=i[0],v=i[1];return(0,o.BX)(s.Z,{css:[l.l0.rowWithGap(8),l.l0.align.center],children:[(0,o.tZ)(d.ZP,{onClick:function(e){e.stopPropagation(),t()},text:"Change image"}),n?(0,o.tZ)(b.Z,{alt:"Cannot remove cover image of a published Repl",disabled:!0,colorway:"negative",children:(0,o.tZ)(f.Z,{})}):null,n?null:(0,o.tZ)(s.Z,{children:(0,o.tZ)(b.Z,{alt:"Remove Image",colorway:"negative",onClick:function(){v(!0)},children:(0,o.tZ)(f.Z,{})})}),(0,o.tZ)(h.Z,{isOpen:u,onRequestClose:function(){return v(!1)},children:(0,o.tZ)(p.Z,{confirmLabel:"Yes, remove this image",title:"Remove image",isDestructive:!0,onConfirm:function(){r(),v(!1)},onCancel:function(){return v(!1)},children:"This will remove your Repl\u2019s cover image. You can always add one back at any time."})})]})}function N(e){var n=e.onClick,t=e.isActive;return(0,o.BX)(s.Z,{css:[l.l0.colWithGap(16),l.l0.center],children:[(0,o.BX)(s.Z,{css:[l.l0.colWithGap(8),l.l0.center],children:[(0,o.tZ)(s.Z,{css:[{"> svg":{width:44,height:"auto"}},t&&{color:l.TV.accentPrimaryDefault}],children:(0,o.tZ)(w.Z,{})}),(0,o.tZ)(x.x,{children:"Drag and drop a cover image"})]}),(0,o.tZ)(s.Z,{children:(0,o.tZ)(d.ZP,{onClick:n,iconLeft:(0,o.tZ)(E.Z,{}),colorway:"primary",text:"Or select a file"})})]})}function A(e){var n=e.onClick,t=e.repl,d=function(e){if(null!==e&&0!==e.length){var n=e.find((function(e){return e.type.startsWith("image/")}));n?(b(null),w.uploadImage(n,C.N.ReplCoverImage)):b("Expected an image file")}},f=c.useRef(null),p=(0,a.Z)(c.useState(null),2),h=p[0],b=p[1],g=(0,a.Z)(c.useState(t.imageUrl),2),Z=g[0],x=g[1],w=(0,m.Z)({onUpload:function(e){var n=e.url;y({variables:{input:{id:t.id,imageUrl:n}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:(0,i.Z)((0,r.Z)({},t),{imageUrl:n})}}})},onUploadPreview:function(e){var n=e.dataUrl;x(n)},onError:function(e){b(e.message)}}),y=(0,a.Z)((0,v.wP)({onCompleted:function(e){b(null),x(e.updateRepl.repl.imageUrl)}}),1)[0],E=t.currentUserPermissions.changeImageUrl,R=(0,a.Z)((0,u.Z)(d),2),T=R[0],A=R[1],F=!Z&&E;return(0,o.BX)(s.Z,(0,i.Z)((0,r.Z)({css:[l.l0.center,l.l0.flex.growAndShrink(1),!F&&{backgroundColor:l.TV.black},{borderBottomLeftRadius:8,borderBottomRightRadius:8,position:"relative",":hover .image-controls":{opacity:1}}]},A),{children:[Z?(0,o.tZ)(D,{src:Z,alt:t.title}):null,F?null:(0,o.tZ)(P,{onClick:n}),Z&&E?(0,o.BX)(s.Z,{className:"image-controls",css:[{position:"absolute",top:l.TV.space8,right:l.TV.space8,opacity:0,".is-touch-device &":{opacity:1}}],children:[(0,o.tZ)(j,{onChangeClick:function(){var e;null===(e=f.current)||void 0===e||e.click()},onRemoveClick:function(){y({variables:{input:{id:t.id,imageUrl:null}}})},isPublished:Boolean(t.lastPublishedAt)}),h?(0,o.tZ)("div",{className:"error",children:h}):null]}):null,F?(0,o.tZ)(N,{isActive:T,onClick:function(){var e;null===(e=f.current)||void 0===e||e.click()}}):null,E?(0,o.tZ)("input",{css:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},ref:f,accept:k.W9.join(","),type:"file",onChange:function(e){var n=e.target,t=n.validity,r=n.files;t.valid&&d(r?Array.from(r):null)}}):null]}))}},77402:function(e,n,t){t.d(n,{D:function(){return r},V:function(){return a}});var r,i=t(48551);function a(e){return(0,i.gK)(e)?r.Markdown:(0,i.sL)(e)?r.Draw:(0,i.IQ)(e)?r.Pedit:(0,i.T3)(e)?r.Media:r.Code}!function(e){e.Media="Media",e.Code="Code",e.Markdown="Markdown",e.Draw="Draw",e.Pedit="Pedit"}(r||(r={}))},45528:function(e,n,t){t.d(n,{U:function(){return o},b:function(){return c}});var r=t(67294),i=t(64063),a=t.n(i);function o(e){var n=e.repl,t=e.currentUser;return{asViewer:e.asViewer,repl:{__typename:"Repl",currentUserPermissions:n.currentUserPermissions,flagOwnerDotReplitPackager:n.flagOwnerDotReplitPackager,id:n.id,language:n.language,slug:n.slug},currentUser:t?{__typename:"CurrentUser",id:t.id,username:t.username,flagTrackOtClientDataLoss:t.flagTrackOtClientDataLoss,isSubscribed:t.isSubscribed,roles:t.roles}:void 0}}function c(e){var n=e?o(e):null,t=r.useRef(n);return a()(n,t.current)||(t.current=n),t.current}},9523:function(e,n,t){t.d(n,{C:function(){return u},D:function(){return c}});var r=t(7297),i=t(31230);function a(){var e=(0,r.Z)(['\n  fragment CrosisContextCurrentUser on CurrentUser {\n    id\n    username\n    isSubscribed\n    roles {\n      id\n      name\n    }\n    flagTrackOtClientDataLoss: gate(\n      feature: "flag-ot-data-loss-client-tracking"\n    )\n  }\n']);return a=function(){return e},e}function o(){var e=(0,r.Z)(['\n  fragment CrosisContextRepl on Repl {\n    id\n    language\n    slug\n    user {\n      id\n      username\n    }\n    currentUserPermissions {\n      containerWrite\n    }\n    flagOwnerDotReplitPackager: gateOnOwner(feature: "flag-dotreplit-packager")\n  }\n']);return o=function(){return e},e}var c=(0,i.Ps)(a()),u=(0,i.Ps)(o())},69183:function(e,n,t){t.d(n,{MF:function(){return u},lv:function(){return d},oA:function(){return c},uC:function(){return l},yb:function(){return s}});var r=t(15519),i=t(48551),a=t(31066),o=t(30345);function c(e){return e.split("/")[0]===a.oh}function u(e){return".env"===e||".breakpoints"===e||".cache"===e||e.startsWith(".cache/")}function l(e){return o.nh.includes(e)}function s(e,n){return Boolean(n&&r.Z.isLangFileBinary(n,e))}function d(e,n){if(!n)return!1;var t=(0,i.Xz)(e),r=!0,a=!1,o=void 0;try{for(var c,u=n[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var l=c.value;if(e.match(l))return!0;var s=!0,d=!1,f=void 0;try{for(var p,h=t[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){if(p.value.match(l))return!0}}catch(v){d=!0,f=v}finally{try{s||null==h.return||h.return()}finally{if(d)throw f}}}}catch(v){a=!0,o=v}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return!1}},64926:function(e,n,t){t.d(n,{Z:function(){return p}});var r,i=t(47568),a=t(10253),o=t(34051),c=t.n(o),u=t(5133),l=t(92876),s=t(50055),d=t(54098),f=t.n(d);function p(e){var n=e.container,t=e.dotReplit,o=function(){if(h)throw new Error("Already called open channel");h=!0,n.openChannel({service:"packager3",name:"packager"},(function(e){var n=e.channel;if(!e.error){if(!n)throw new Error("Expected channel");return n.onCommand((function(e){if(null!=e.state){var n=e.state===s.api.State.Running;d.emit(r.STATE_CHANGED,n)}else null!=e.output?d.emit(r.OUTPUT,e.output):null!=e.error&&d.emit(r.ERROR,e.error)})),p=n,d.emit(r.CHANNEL_OPENED,n),function(){p=null}}}))},d=(0,u.ZP)(),p=null,h=!1;function v(){return m.apply(this,arguments)}function m(){return(m=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h||o(),!p||"open"!==p.status){e.next=3;break}return e.abrupt("return",p);case 3:return e.abrupt("return",new Promise((function(e){d.once(r.CHANNEL_OPENED,(function(n){e(n)}))})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return g.apply(this,arguments)}function g(){return g=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var r=!1,i=n.openChannel({service:"packager3"},(function(n){var a=n.channel,o=n.error;if(r)throw new Error("getAnonymousChannel fulfilled but openChannelCb called again");if(!o)return e([a,i]),function(e){e.willReconnect&&i(),r||(r=!0,t(new Error("Expected getAnonymousChannel promise to be fulfilled when closing")))};t(o)}))})));case 1:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}return{addPackages:function(e){return(0,i.Z)(c().mark((function n(){var t,r,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v();case 2:return t=n.sent,r=e.map((function(e){return{name:e.name,spec:e.version}})),n.next=6,t.request({packageAdd:{pkgs:r}});case 6:if(!(i=n.sent).channelClosed){n.next=9;break}return n.abrupt("return",!1);case 9:return n.abrupt("return",Boolean(i.ok));case 10:case"end":return n.stop()}}),n)})))()},removePackages:function(e){return(0,i.Z)(c().mark((function n(){var t,r,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v();case 2:return t=n.sent,r=e.map((function(e){return{name:e}})),n.next=6,t.request({packageRemove:{pkgs:r}});case 6:if(!(i=n.sent).channelClosed){n.next=9;break}return n.abrupt("return",!1);case 9:return n.abrupt("return",Boolean(i.ok));case 10:case"end":return n.stop()}}),n)})))()},searchPackages:function(e){return(0,i.Z)(c().mark((function r(){var i,o,u,s,d,p,h,v,m,g;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=4,t.getConfig();case 4:if(r.t2=i=r.sent,r.t1=null===r.t2,r.t1){r.next=8;break}r.t1=void 0===i;case 8:if(!r.t1){r.next=12;break}r.t3=void 0,r.next=13;break;case 12:r.t3=null===(o=i.config)||void 0===o||null===(u=o.packager)||void 0===u?void 0:u.language;case 13:if(r.t4=d=r.t3,r.t0=null!==r.t4,!r.t0){r.next=17;break}r.t0=void 0!==d;case 17:if(!r.t0){r.next=21;break}r.t5=d,r.next=22;break;case 21:r.t5=null===(s=n.getContext())||void 0===s?void 0:s.repl.language;case 22:if(!(null===(p=r.t5)||void 0===p?void 0:p.includes("python"))&&"pygame"!==p){r.next=32;break}return r.prev=24,r.abrupt("return",f()("https://pipsearch.util.repl.co/search?name="+encodeURIComponent(e),{mode:"cors"}).then((function(e){return e.json()})));case 28:return r.prev=28,r.t6=r.catch(24),l.Tb(r.t6),r.abrupt("return",[]);case 32:return r.t7=a.Z,r.next=35,b();case 35:return r.t8=r.sent,h=(0,r.t7)(r.t8,2),v=h[0],m=h[1],r.next=41,v.request({packageSearch:{query:e}});case 41:if(!(g=r.sent).channelClosed){r.next=44;break}return r.abrupt("return",[]);case 44:if(m(),"packageSearchResp"!==g.body||!g.packageSearchResp){r.next=47;break}return r.abrupt("return",g.packageSearchResp.results||[]);case 47:return l.Tb(new Error("Unknown packager3 command ".concat(g.body,". ")+"Expected packageSearchResp. Received error: ".concat(g.error))),r.abrupt("return",[]);case 49:case"end":return r.stop()}}),r,null,[[24,28]])})))()},fetchPackageInfo:function(e){return(0,i.Z)(c().mark((function n(){var t,r,i,o;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=a.Z,n.next=3,b();case 3:return n.t1=n.sent,t=(0,n.t0)(n.t1,2),r=t[0],i=t[1],n.next=9,r.request({packageInfo:{pkg:{name:e}}});case 9:if(!(o=n.sent).channelClosed){n.next=12;break}return n.abrupt("return",void 0);case 12:if(i(),"packageInfoResp"!==o.body||!o.packageInfoResp){n.next=15;break}return n.abrupt("return",o.packageInfoResp.pkg||void 0);case 15:return l.Tb(new Error("Unknown packager3 command ".concat(o.body,". ")+"Expected packageInfoResp. Received error: ".concat(o.error))),n.abrupt("return",void 0);case 17:case"end":return n.stop()}}),n)})))()},installPackages:function(){return(0,i.Z)(c().mark((function e(){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return n=e.sent,e.next=5,n.request({packageInstall:{}});case 5:if(!(t=e.sent).channelClosed){e.next=8;break}return e.abrupt("return",!1);case 8:return e.abrupt("return",Boolean(t.ok));case 9:case"end":return e.stop()}}),e)})))()},listSpecfile:function(){return(0,i.Z)(c().mark((function e(){var n,t,r,i,o,u,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a.Z,e.next=3,b();case 3:return e.t1=e.sent,n=(0,e.t0)(e.t1,2),t=n[0],r=n[1],e.next=9,t.request({packageListSpecfile:{}});case 9:if(!(i=e.sent).channelClosed){e.next=12;break}return e.abrupt("return",{packages:null,error:"channel closed"});case 12:r(),e.t2=i.body,e.next="error"===e.t2?16:"packageListSpecfileResp"===e.t2?17:22;break;case 16:return e.abrupt("return",{packages:null,error:"list specfile failed: ".concat(i.error)});case 17:if(u=null===(o=i.packageListSpecfileResp)||void 0===o?void 0:o.pkgs){e.next=21;break}return e.abrupt("return",{packages:null,error:"list specfile returned an empty response"});case 21:return e.abrupt("return",{packages:u,error:null});case 22:return s="Unknown packager3 listSpecFile command ".concat(i.body,". ")+"Expected error or packageListSpecfileResp",l.Tb(new Error(s)),e.abrupt("return",{packages:null,error:s});case 25:case"end":return e.stop()}}),e)})))()},onOutput:function(e){return d.on(r.OUTPUT,e),function(){d.removeListener(r.OUTPUT,e)}},onError:function(e){return d.on(r.ERROR,e),function(){d.removeListener(r.ERROR,e)}},onStateChanged:function(e){return d.on(r.STATE_CHANGED,e),function(){d.removeListener(r.STATE_CHANGED,e)}}}}!function(e){e.OUTPUT="OUTPUT",e.ERROR="ERROR",e.STATE_CHANGED="STATE_CHANGED",e.CHANNEL_OPENED="CHANNEL_OPENED"}(r||(r={}))},70240:function(e,n,t){t.d(n,{Z:function(){return d}});var r,i=t(47568),a=t(34051),o=t.n(a),c=t(90420),u=t(60977);!function(e){e.STATE_CHANGE="STATE_CHANGE",e.OUTPUT="OUTPUT",e.ERROR="ERROR",e.RESULT="RESULT",e.RESET="RESET"}(r||(r={}));var l=t(48920),s=t(5133);function d(e){var n,a=e.beforeRun,d=e.getMainFileContents,f=function(e){v=e,h.emit(r.STATE_CHANGE,v)},p=function(){if(!(null===n||void 0===n?void 0:n.replbox))throw new Error("replbox not loaded. runState is; "+v);f(l.A.OFFLINE),n.replbox.destroy(),n=null},h=(0,s.ZP)(),v=l.A.OFFLINE;function m(e){return b.apply(this,arguments)}function b(){return b=(0,i.Z)(o().mark((function e(i){var a,s,d,v,b,g,Z,x,w,y,k,C;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.replId,s=i.hostedUrl,d=i.language,v=i.iframeParent,b=i.timeout,g=void 0===b?5e3:b,n&&p(),e.next=4,t.e(7958).then(t.t.bind(t,17958,23)).then((function(e){return e.default}));case 4:if(Z=e.sent,v)for(;v.firstChild;)v.removeChild(v.firstChild);if((x=new Z(d,{useIframe:!0,iframeParent:v,track:u.j})).on("warn",(function(e){h.emit(r.OUTPUT,e)})),w="https://replbox.repl.it/public/secure/","html"!==d&&"kaboom"!==d){e.next=13;break}if(s){e.next=12;break}throw new Error("Expected hostedUrl for "+d);case 12:w=s+"/__debug_wrapper.html";case 13:return y="kaboom"===d?"html":d,k="".concat(window.location.origin,"/public/replbox_lang/").concat(c.i8,"/").concat(y,".js"),C=!1,e.next=18,new Promise((function(e,n){var t=setTimeout((function(){C=!0,(0,u.j)(u.U3.LOAD_REPLBOX_ENGINE_TIMED_OUT,{language:d}),e()}),g),r=window.performance.now();x.load({iframeOrigin:w,languageBundleSrc:k}).then((function(){clearTimeout(t),(0,u.j)(u.U3.LOAD_REPLBOX_ENGINE_TIME,{time:window.performance.now()-r}),e()})).catch((function(e){clearTimeout(t),n(e)}))}));case 18:if(!C){e.next=21;break}return x.destroy(),e.abrupt("return",m({replId:a,language:d,hostedUrl:s,iframeParent:v}));case 21:n={replId:a,replbox:x,language:d,hostedUrl:s},f(l.A.IDLE);case 23:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function g(){return(g=(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error("replbox not loaded. runState is; "+v);case 2:if("web_project"!==n.language){e.next=4;break}throw new Error("TODO?");case 4:return f(l.A.RUNNING),e.next=7,a();case 7:if(v===l.A.RUNNING){e.next=9;break}return e.abrupt("return");case 9:if(n){e.next=11;break}throw new Error("replbox not loaded. runState is; "+v);case 11:return e.next=13,n.replbox.reset();case 13:if(h.emit(r.RESET),v===l.A.RUNNING){e.next=16;break}return e.abrupt("return");case 16:if("html"!==n.language&&"kaboom"!==n.language){e.next=21;break}return e.next=19,n.replbox.runProject([],{stdout:function(e){return h.emit(r.OUTPUT,e)},stderr:function(e){return h.emit(r.ERROR,e)},replId:n.replId,url:n.hostedUrl});case 19:return v===l.A.RUNNING&&f(l.A.IDLE),e.abrupt("return");case 21:return e.next=23,d(n.language);case 23:if(t=e.sent,v===l.A.RUNNING){e.next=26;break}return e.abrupt("return");case 26:return e.abrupt("return",Z(t));case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return x.apply(this,arguments)}function x(){return(x=(0,i.Z)(o().mark((function e(t){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error("replbox not loaded. runState is; "+v);case 2:return v!==l.A.RUNNING&&f(l.A.RUNNING),e.next=5,n.replbox.evaluate(t,{stdout:function(e){return h.emit(r.OUTPUT,e)}});case 5:if(i=e.sent,v===l.A.RUNNING){e.next=8;break}return e.abrupt("return");case 8:if(!i.error){e.next=11;break}return h.emit(r.ERROR,i.error),e.abrupt("return");case 11:h.emit(r.RESULT,i.data),f(l.A.IDLE);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return h.on(r.ERROR,(function(){f(l.A.IDLE)})),{load:m,run:function(){return g.apply(this,arguments)},write:function(e){if(!n)throw new Error("replbox not loaded. runState is; "+v);if(v!==l.A.RUNNING)throw new Error("replbox is not running. runState is; "+v);n.replbox.write(e)},evalCode:Z,refreshWebview:function(){if(!n)throw new Error("replbox not loaded. runState is; "+v);n.replbox.refreshWebProject()},stopRun:function(){if(!n)throw new Error("replbox not loaded. runState is; "+v);try{n.replbox.stop()}catch(e){if(e.message.match(/postmessage/i))return;throw e}f(l.A.IDLE)},destroy:p,onResult:function(e){return h.on(r.RESULT,e),function(){h.removeListener(r.RESULT,e)}},onOutput:function(e){return h.on(r.OUTPUT,e),function(){h.removeListener(r.OUTPUT,e)}},onError:function(e){return h.on(r.ERROR,e),function(){h.removeListener(r.ERROR,e)}},onReset:function(e){return h.on(r.RESET,e),function(){h.removeListener(r.RESET,e)}},onStateChanged:function(e){return h.on(r.STATE_CHANGE,e),function(){h.removeListener(r.STATE_CHANGE,e)}},getRunState:function(){return v}}}},39791:function(e,n,t){var r=t(47568),i=t(34051),a=t.n(i),o=t(15519),c=function(){var e=(0,r.Z)(a().mark((function e(n,t){var r,i,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getContext()){e.next=3;break}return e.abrupt("return",!1);case 3:if(!o.Z.supportsPackager3(r.repl.language)){e.next=5;break}return e.abrupt("return",!0);case 5:if(!r.repl.language.startsWith("nix")||!r.repl.flagOwnerDotReplitPackager){e.next=12;break}return e.next=9,t.getConfig();case 9:if(!(null===(u=e.sent.config)||void 0===u||null===(i=u.packager)||void 0===i||null===(c=i.features)||void 0===c?void 0:c.guessImports)){e.next=12;break}return e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();n.Z=c},63736:function(e,n,t){t.d(n,{Z:function(){return Te}});var r=t(26042),i=t(10253),a=t(35944),o=(t(67294),t(48551)),c=t(30345),u=t(84477),l=t(24888),s=t(6437),d=t(60656),f=t(88044),p=t(60519),h=t(85444),v=t(36344),m=t(20916),b=t(27461),g=t(45714),Z=t(43817),x=t(39329),w=t(8307),y=t(4737),k=t(37983),C=t(21930),E=t(91169),R=t(20441),T=t(64128),D=t(25641),P=t(94692),j=t(92755),N=t(4896),A=t(34079),F=t(7441),S=t(95381),O=t(87638),U=t(6111),L=t(90778),I=t(94548),z=t(4457),B=t(49027),M=t(78782),W=t(82821),V=t(2081),X=t(32323),G=t(27164),K=t(26945),Q=t(47779),H=t(81473),q=t(14383),Y=t(96630),J=t(58424),_=t(7793),$=t(48149),ee=t(19454),ne=t(22901),te=t(33842),re=t(70006),ie=t(232),ae=t(20181),oe=t(14825),ce=t(42879),ue=t(44333),le=t(72052),se=t(52057),de=t(67948),fe=t(2172),pe=t(88821),he=t(74414),ve=t(60942),me=t(86857),be=t(15833),ge=t(51995),Ze=t(63647),xe=t(72722),we=t(62944),ye=t(99086),ke=t(71530),Ce=t(26404),Ee=t(3814),Re=t(7811);function Te(e){var n=e.path,t=e.fill,Te=e.size,De=e.fillDefaultFileIcon,Pe={size:Te||20,fill:t};switch(n){case"Dockerfile":case".dockerfile":return(0,a.tZ)(v.Z,(0,r.Z)({},Pe));case"package.json":case"package-lock.json":return(0,a.tZ)(F.Z,(0,r.Z)({},Pe));case"yarn.lock":return(0,a.tZ)(xe.Z,(0,r.Z)({},Pe));case"webpack.config.js":return(0,a.tZ)(K.Z,(0,r.Z)({},Pe));case".rhistory":case".rprofile":return(0,a.tZ)(I.Z,(0,r.Z)({},Pe));case".replit":return(0,a.tZ)(ye.Z,(0,r.Z)({},Pe));case".bowerrc":case".jshintrc":case".jshitrc":case".eslintrc":case".babelrc":return(0,a.tZ)(D.Z,(0,r.Z)({},Pe));case"Gemfile":case"Gemfile.lock":case".gemspec":case"rakefile":return(0,a.tZ)(d.Z,(0,r.Z)({},Pe));case"poetry.lock":case"pyproject.toml":case"requirements.txt":return(0,a.tZ)(s.Z,(0,r.Z)({},Pe));case"go.mod":case"go.sum":return(0,a.tZ)(E.Z,(0,r.Z)({},Pe));case"pom.xml":return(0,a.tZ)(b.Z,(0,r.Z)({},Pe))}if(c.uP.includes(n))return(0,a.tZ)(we.Z,(0,r.Z)({},Pe));var je=(0,o.r6)(n);switch(je){case"py":case"rpy":case"pyw":case"cpy":case"gyp":case"gypi":return(0,a.tZ)(s.Z,(0,r.Z)({},Pe));case"rb":case"rbx":case"rjs":case"erb":return(0,a.tZ)(d.Z,(0,r.Z)({},Pe));case"js":case"jsx":case"jsm":case"mjs":case"esm":case"es6":return(0,a.tZ)(g.Z,(0,r.Z)({},Pe));case"ts":case"tsx":return(0,a.tZ)(Z.Z,(0,r.Z)({},Pe));case"graphql":case"gql":return(0,a.tZ)(R.Z,(0,r.Z)({},Pe));case"jav":case"java":return(0,a.tZ)(b.Z,(0,r.Z)({},Pe));case"go":return(0,a.tZ)(E.Z,(0,r.Z)({},Pe));case"html":case"htm":case"shtml":case"xhtml":case"mdoc":case"jsp":case"asp":case"aspx":case"jshtm":return(0,a.tZ)(m.Z,(0,r.Z)({},Pe));case"sh":case"fish":case"zsh":case"bash":return(0,a.tZ)(ke.Z,{});case"asm":return(0,a.tZ)(q.Z,(0,r.Z)({},Pe));case"bal":return(0,a.tZ)(Y.Z,(0,r.Z)({},Pe));case"bas":return(0,a.tZ)(J.Z,(0,r.Z)({},Pe));case"css":return(0,a.tZ)(h.Z,(0,r.Z)({},Pe));case"clj":return(0,a.tZ)(_.Z,(0,r.Z)({},Pe));case"coffee":return(0,a.tZ)($.Z,(0,r.Z)({},Pe));case"cpp":case"cxx":case"hpp":case"hxx":case"cc":case"hh":case"H":return(0,a.tZ)(p.Z,(0,r.Z)({},Pe));case"c":case"h":return(0,a.tZ)(f.Z,(0,r.Z)({},Pe));case"cr":return(0,a.tZ)(x.Z,(0,r.Z)({},Pe));case"cs":case"csx":case"cake":case"csproj":return(0,a.tZ)(w.Z,(0,r.Z)({},Pe));case"csv":return(0,a.tZ)(y.Z,(0,r.Z)({},Pe));case"d":return(0,a.tZ)(ee.Z,(0,r.Z)({},Pe));case"dart":return(0,a.tZ)(ne.Z,(0,r.Z)({},Pe));case"draw":return(0,a.tZ)(ve.Z,(0,r.Z)({},Pe));case"ex":case"exs":return(0,a.tZ)(k.Z,(0,r.Z)({},Pe));case"elm":return(0,a.tZ)(C.Z,(0,r.Z)({},Pe));case"fs":case"fsx":case"fsproj":return(0,a.tZ)(te.Z,(0,r.Z)({},Pe));case"fth":case"forth":return(0,a.tZ)(re.Z,(0,r.Z)({},Pe));case"hs":case"lhs":return(0,a.tZ)(T.Z,(0,r.Z)({},Pe));case"json":return(0,a.tZ)(D.Z,(0,r.Z)({},Pe));case"jl":return(0,a.tZ)(P.Z,(0,r.Z)({},Pe));case"kt":case"kts":return(0,a.tZ)(j.Z,(0,r.Z)({},Pe));case"lua":return(0,a.tZ)(N.Z,(0,r.Z)({},Pe));case"lisp":return(0,a.tZ)(ie.Z,(0,r.Z)({},Pe));case"md":return(0,a.tZ)(A.Z,(0,r.Z)({},Pe));case"ml":case"mli":return(0,a.tZ)(S.Z,(0,r.Z)({},Pe));case"nim":return(0,a.tZ)(ae.Z,(0,r.Z)({},Pe));case"nix":return(0,a.tZ)(me.Z,(0,r.Z)({},Pe));case"pde":return(0,a.tZ)(oe.Z,(0,r.Z)({},Pe));case"pdf":return(0,a.tZ)(O.Z,(0,r.Z)({},Pe));case"php":case"php4":case"php5":case"phtml":case"ctp":return(0,a.tZ)(L.Z,(0,r.Z)({},Pe));case"pmod":case"cgi":case"pl":case"pm":case"t":return(0,a.tZ)(U.Z,(0,r.Z)({},Pe));case"r":case"R":case"rt":return(0,a.tZ)(I.Z,(0,r.Z)({},Pe));case"raku":case"rakumod":case"rakutest":case"pmod6":case"pod6":case"pl6":case"pm6":case"t6":case"p6":return(0,a.tZ)(ce.Z,(0,r.Z)({},Pe));case"re":case"rei":return(0,a.tZ)(z.Z,(0,r.Z)({},Pe));case"rs":case"rlib":return(0,a.tZ)(B.Z,(0,r.Z)({},Pe));case"scss":return(0,a.tZ)(M.Z,(0,r.Z)({},Pe));case"scm":return(0,a.tZ)(ue.Z,(0,r.Z)({},Pe));case"sbt":case"scala":return(0,a.tZ)(W.Z,(0,r.Z)({},Pe));case"sol":return(0,a.tZ)(le.Z,(0,r.Z)({},Pe));case"sql":return(0,a.tZ)(se.Z,(0,r.Z)({},Pe));case"sqlite":return(0,a.tZ)(de.Z,(0,r.Z)({},Pe));case"svelte":return(0,a.tZ)(fe.Z,(0,r.Z)({},Pe));case"svg":return(0,a.tZ)(V.Z,(0,r.Z)({},Pe));case"swift":return(0,a.tZ)(X.Z,(0,r.Z)({},Pe));case"tcl":return(0,a.tZ)(Ee.Z,(0,r.Z)({},Pe));case"toml":return(0,a.tZ)(pe.Z,(0,r.Z)({},Pe));case"txt":return(0,a.tZ)(Ce.Z,(0,r.Z)({},Pe));case"vue":return(0,a.tZ)(he.Z,(0,r.Z)({},Pe));case"wasm":return(0,a.tZ)(G.Z,(0,r.Z)({},Pe));case"yml":case"yaml":return(0,a.tZ)(Q.Z,(0,r.Z)({},Pe));case"zip":return(0,a.tZ)(H.Z,(0,r.Z)({},Pe))}var Ne=u.Z[je];if(Ne)switch((0,i.Z)(Ne.split("/"),1)[0]){case"image":return(0,a.tZ)(be.Z,{});case"audio":return(0,a.tZ)(Ze.Z,{});case"video":return(0,a.tZ)(ge.Z,{})}return De?(0,a.tZ)(Re.Z,{}):(0,a.tZ)(l.Z,{})}},99086:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(26042),i=t(69396),a=t(35944),o=(t(67294),t(81183)),c=t(57996);function u(e){return(0,a.tZ)(o.Z,(0,i.Z)((0,r.Z)({},e),{children:(0,a.tZ)(c.N2,{size:24,color:"currentColor"})}))}},35621:function(e,n,t){var r=t(67294).createContext(null);n.Z=r},68928:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(35944),i=(t(67294),t(24561)),a=t(93160),o=t(81255),c=t(70917),u=t(42895),l=(0,c.F4)({"0%":{opacity:0},"100%":{opacity:.5}}),s=(0,c.iv)([o.l0.p(16),{overflow:"hidden",height:"100%",width:"100%","> svg":{opacity:0,animation:"".concat(l," ease 0s forwards"),animationDelay:"400ms",maxWidth:640,minWidth:500,height:"auto"},"@media (min-width: 900px)":o.l0.pl(32)}]);function d(){var e=(0,u.T)();return(0,r.tZ)(a.Z,{background:"default",css:s,children:(0,r.BX)(i.ZP,{animate:!e,speed:2,backgroundColor:o.TV.backgroundHighest,foregroundColor:o.TV.backgroundHigher,uniqueKey:"editorLoader",children:[(0,r.tZ)("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"70",height:"10"}),(0,r.tZ)("rect",{x:"80",y:"0",rx:"3",ry:"3",width:"100",height:"10"}),(0,r.tZ)("rect",{x:"190",y:"0",rx:"3",ry:"3",width:"10",height:"10"}),(0,r.tZ)("rect",{x:"15",y:"20",rx:"3",ry:"3",width:"130",height:"10"}),(0,r.tZ)("rect",{x:"155",y:"20",rx:"3",ry:"3",width:"130",height:"10"}),(0,r.tZ)("rect",{x:"15",y:"40",rx:"3",ry:"3",width:"90",height:"10"}),(0,r.tZ)("rect",{x:"115",y:"40",rx:"3",ry:"3",width:"60",height:"10"}),(0,r.tZ)("rect",{x:"185",y:"40",rx:"3",ry:"3",width:"60",height:"10"}),(0,r.tZ)("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"30",height:"10"}),(0,r.tZ)("rect",{x:"15",y:"80",rx:"3",ry:"3",width:"70",height:"10"}),(0,r.tZ)("rect",{x:"95",y:"80",rx:"3",ry:"3",width:"60",height:"10"}),(0,r.tZ)("rect",{x:"165",y:"80",rx:"3",ry:"3",width:"30",height:"10"}),(0,r.tZ)("rect",{x:"15",y:"100",rx:"3",ry:"3",width:"110",height:"10"}),(0,r.tZ)("rect",{x:"135",y:"100",rx:"3",ry:"3",width:"100",height:"10"}),(0,r.tZ)("rect",{x:"0",y:"120",rx:"3",ry:"3",width:"70",height:"10"})]})})}},34115:function(e,n,t){function r(e){var n="For example, here is a code block in ".concat(e);switch(e){case"python3":return"".concat(n,'\n```python\ndef hello_world():\n  print("hello world!")\n```\n');case"java10":return"".concat(n,'\n```java\npublic class Main {\n  public static void main(String[] args) {\n    System.out.println("hello world");\n  }\n}\n```\n');case"html":return"".concat(n,"\n```python\n<html>\n<body>\n  <h1>hello world</h1>\n</body>\n</html>\n``")}return""}function i(e){var n=e.language;return"# Lesson plan\n  \n  ** this file should contain teacher lesson plan details ** \n\n  __ students will never see this __\n\n  ## Learning Objectives\n  1. \n  2. \n  3. \n\n  Use [Markdown](https://gist.github.com/cuonggt/9b7d08a597b167299f0d) to format your lesson plan.\n\n  ".concat(r(n),"\n  ")}function a(e){var n=e.language;return"# Instructions  \n\n  ** this file should contain student lesson instructions **\n\n  _ students will see these instructions in a read-only workspace tab _\n\n  ## Steps\n  1. \n  2. \n  3. \n\n  Use [Markdown](https://gist.github.com/cuonggt/9b7d08a597b167299f0d) to format your instructions.\n\n  ".concat(r(n),"\n  ")}t.d(n,{G:function(){return i},K:function(){return a}})},30243:function(e,n,t){t.d(n,{Z:function(){return Ue}});var r=t(26042),i=t(69396),a=t(10253),o=t(29815),c=t(35944),u=t(60536),l=t.n(u),s=t(67294),d=t(94184),f=t.n(d),p=t(28067),h=t(67911);var v=t(30345),m=t(76198),b=t(53201),g=t(88662),Z=t(65456),x=t(31066),w=t(38935),y=t(79500),k=t(1879),C=t(73842),E=t(93058),R=t(15583),T=t(63377),D=t(81470);var P=t(99408),j=t(15085);function N(e){var n=e.activeUsers,t=e.visibleNumOfUsers,r=void 0===t?3:t,i=n.length,a=n[i-1],o=function(){return(0,c.BX)(j.G7,{css:[j.l0.flex.row,{transform:"translateX(0)"}],children:[n.slice(0,r-1).map((function(e,n){return(0,c.tZ)(j.qE,{size:24,src:e.image,ringColor:e.color,username:e.username,css:{marginLeft:1===i?0:-10,zIndex:10*n,cursor:"default"}},a.id)})),i===r&&(0,c.tZ)(j.qE,{size:24,src:a.image,ringColor:a.color,username:a.username,css:{marginLeft:-10,zIndex:10*r}},a.id),i>r&&(0,c.tZ)(j.G7,{css:[j.l0.width(j.TV.space24),j.l0.height(j.TV.space24),j.l0.center,j.l0.overflow("hidden"),j.l0.backgroundColor.backgroundDefault,j.l0.color.foregroundDimmer,j.l0.cursor.pointer,{borderRadius:"50%",marginLeft:-10,zIndex:10*(r+1)}],children:(0,c.BX)(j.xv,{variant:"small",children:["+",n.length-r+1]})})]})};return(0,c.tZ)(j.u,{tooltip:(0,c.tZ)(j.G7,{css:[j.l0.width(150),{gap:10,gridTemplateColumns:"repeat(auto-fill, 200px)",zIndex:1}],children:n.map((function(e){return(0,c.BX)(j.G7,{css:[j.l0.rowWithGap(j.TV.space2),j.l0.align.center],children:[(0,c.tZ)(j.qE,{size:24,src:e.image,ringColor:e.color,username:e.username},e.id),(0,c.tZ)(j.G7,{css:[j.l0.ml(8),j.l0.maxWidth("80%")],children:(0,c.tZ)(j.xv,{variant:"small",multiline:!0,children:e.username})})]},e.username)}))}),children:(0,c.tZ)(o,{})})}function A(e){var n=e.path,t=(0,T.Z)(),r=(0,P.Z)().presence,i=(0,D.dO)({variables:{replId:t}}).data,u=function(e){var n=e.presence,t=e.path,r=n.getPathToUserIds().get(t)||[],i=(0,a.Z)(s.useState(r),2),c=i[0],u=i[1];return s.useEffect((function(){u(n.getPathToUserIds().get(t)||[]);var e=n.onActiveUsersChange((function(e){u((function(n){return n.filter((function(n){return e.some((function(e){return n===e.id}))}))}))})),r=n.onUserOpenedFile((function(e){var n=e.user,r=e.file;r&&(t===r||(0,R.yr)(t,r))?u((function(e){return e.includes(n.id)?e:(0,o.Z)(e).concat([n.id])})):u((function(e){return e.filter((function(e){return e!==n.id}))}))}));return function(){e(),r()}}),[n,t]),c}({presence:r,path:n});if(0===u.length||"Repl"!==(null===i||void 0===i?void 0:i.repl.__typename)||!i.currentUser)return null;var l=i.repl,d=i.currentUser,f=u.filter((function(e){return e!==d.id}));if(0===f.length)return null;var p=(0,o.Z)(l.multiplayers).concat([l.user]).filter((function(e){return Boolean(e)})),h=r.getActiveUsers(),v=f.filter((function(e){return h.some((function(n){return n.id===e}))&&p.some((function(n){return n.id===e}))})).map((function(e){var n=h.find((function(n){return n.id===e}));if(!n)throw new Error("Expected online user");var t=p.find((function(n){return n.id===e}));if(!t)throw new Error("Expected user from graph");var r=n.id,i=n.username;return{id:r,color:n.color,image:t.image,username:i}}));return(0,c.tZ)(N,{activeUsers:v})}var F=t(69346),S=t(1144),O=t(81255),U=t(69453),L=t(46609),I=t(48551),z=t(25602),B=t(55506),M=t.n(B),W=t(93096),V=t.n(W);function X(e,n,t){return Math.floor(Math.min(n,Math.max(e,t)))}var G=t(47568),K=t(34051),Q=t.n(K),H=t(58794),q=t(34115),Y="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";function J(){return(J=(0,G.Z)(Q().mark((function e(n){var t,r,i,a,o,c,u;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.fs,r=n.language,i=void 0===r?"python3":r,e.next=3,t.createDir(".lesson");case 3:if(!(a=e.sent).error){e.next=6;break}return e.abrupt("return",a);case 6:return e.next=8,t.writeFile(".lesson/assets/logo.png",H.Z.from(Y,"base64"));case 8:if(!(o=e.sent).error){e.next=11;break}return e.abrupt("return",o);case 11:return e.next=13,t.writeFile(".lesson/lessonplan.md",H.Z.from((0,q.G)({language:i})));case 13:if(!(c=e.sent).error){e.next=16;break}return e.abrupt("return",c);case 16:return e.next=18,t.writeFile(".lesson/instructions.md",H.Z.from((0,q.K)({language:i})));case 18:if(!(u=e.sent).error){e.next=21;break}return e.abrupt("return",u);case 21:return e.abrupt("return",{error:null});case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=t(60977),$=t(6951);function ee(e){var n=e.onCreateClick;return(0,c.BX)(m.ZP,{interactive:!1,children:[(0,c.BX)("div",{className:"jsx-d8ed3bbadff3cff2",children:["Add  ",(0,c.tZ)($.Z,{size:"small",border:!1,onClick:function(){return n(Z.Tv.File)},children:"lesson contents"})]}),(0,c.tZ)(l(),{id:"d8ed3bbadff3cff2",children:"div.jsx-d8ed3bbadff3cff2{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-size:12px;overflow:hidden;white-space:nowrap}"})]})}var ne=t(68122);function te(e){var n=(0,ne.Z)(e.progress),t=e.size/2,r=t/2,i=2*r*Math.PI,a=i-n*i;return(0,c.BX)("svg",{height:2*t,width:2*t,className:"jsx-2eb96e7905c3afd7 circle",children:[(0,c.tZ)("circle",{fill:"var(--background-higher)",r:t,cx:t,cy:t,className:"jsx-2eb96e7905c3afd7"}),(0,c.tZ)("circle",{stroke:"var(--foreground-dimmest)",fill:"transparent",strokeWidth:t,strokeDasharray:i+" "+i,style:{strokeDashoffset:a},r:r,cx:t,cy:t,className:"jsx-2eb96e7905c3afd7"}),(0,c.tZ)(l(),{id:"2eb96e7905c3afd7",children:".circle.jsx-2eb96e7905c3afd7{margin:4px;-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-ms-transform:rotate(-90deg);-o-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transform-origin:50%50%;-moz-transform-origin:50%50%;-ms-transform-origin:50%50%;-o-transform-origin:50%50%;transform-origin:50%50%}"})]})}var re=t(53008),ie=t(10129),ae=t(87588),oe=t(89075),ce=t(64824),ue=t(70034),le=t(15165),se=function(e,n){return(0,ce.lV)(s.useCallback((function(t,r){var i=t(re.dv),a=t(re.m5),o=t(oe.tf);Object.prototype.hasOwnProperty.call(i,e)?(r(ue.tO,(0,ue.GL)(a)),o({action:"deleted",fileType:n,multiSelect:!0})):(r(ue.tO,[{path:e,type:n}]),o({action:"deleted",fileType:n}))}),[e,n]),le.l)},de=t(63805),fe=t(15902),pe=t(11163);function he(e){var n=e.path,t=e.readOnly,r=e.progress,i=e.active,o=e.siblings,u=e.onMouseEnter,d=e.onMouseLeave,p=(0,L.y)(),h=p.getNodeType,v=p.setCurrentRenamePath,g=p.overwriteNode,x=p.duplicateFile,R=(0,T.Z)(),D=n.split("/"),P=D[D.length-1],j=(0,a.Z)(s.useState(null),2),N=j[0],F=j[1],S=(0,E.Z)().showError,O=(0,a.Z)(s.useState(null),2),B=O[0],M=O[1],W=(0,oe.Z1)();s.useEffect((function(){if(N){var e=!1;return N.file.then((function(t){if(!e){if(t.error){if(t.error===Z.Df.AlreadyExists){var r="."===N.path?P:"".concat(N.path,"/").concat(P);return h(r).then((function(e){r!==n&&M({path:r,type:e})})),void F(null)}S("Something went wrong trying to remove ".concat(P))}F(null)}})),function(){e=!0}}}),[N,P,n,h,S]);var V=(0,a.Z)((0,b.c)({type:Z.Tv.File,item:{type:Z.Tv.File,path:n},canDrag:function(){return!t},collect:function(e){return{isDragging:e.isDragging()}},end:function(e,n){if(W&&W(),n.didDrop()){var t=n.getDropResult();t.file&&F(t)}}}),2),X=V[0].isDragging,K=V[1],H=(0,pe.useRouter)(),q=s.useMemo((function(){var e=[w.st.Rename];return(0,de.isMobile)({tablet:!1})||e.push(w.st.OpenTab,w.st.OpenPane),e.push(w.st.CopyLink,w.st.Duplicate),(0,fe.V)(H)||e.push(w.st.Download),e.push(w.st.Delete),e}),[H]),Y=(0,re.n5)(n),J=function(e){var n=(0,ae.Hq)(),t=(0,re.qp)(),r=(0,re.lK)(),i=(0,re.IQ)(),a=(0,oe.CA)(),o=(0,oe.G)("flagFiletreeMultiselect");return s.useCallback((function(c){var u=(0,ie.j)(c),l=c.shiftKey,s=c.altKey;if(!o){var d={newTab:u};return n(e),t(e),void a(e,d)}var f={newTab:u};return s||l?s?(r(e),void n(e)):void(l&&i(e)):(n(e),t(e),void a(e,f))}),[o,n,e,t,a,r,i])}(n),_=function(e){var n=(0,ae.Hq)(),t=(0,re.qp)(),r=(0,oe.CA)();return s.useCallback((function(i){1===i.button&&(n(e),t(e),r(e,{newTab:!0}),i.preventDefault(),i.stopPropagation())}),[e,n,t,r])}(n),$=function(e){var n=(0,re.Ol)(),t=(0,oe.CA)(),r=(0,re.n5)(e);return s.useCallback((function(){r?n.filter((function(e){return e.type===Z.Tv.File})).forEach((function(e){var n=e.path;t(n,{newTab:!0})})):t(e,{newTab:!0})}),[t,e,r,n])}(n),ee=function(e){var n=(0,re.Ol)(),t=(0,re.n5)(e),r=(0,oe.CA)();return s.useCallback((function(){t?n.filter((function(e){return e.type===Z.Tv.File})).forEach((function(e,n){var t=e.path;r(t,0===n?{newPane:!0}:{newTab:!0})})):r(e,{newPane:!0})}),[r,e,t,n])}(n),ne=function(e){var n=(0,re.n5)(e),t=(0,re.Ol)(),r=(0,oe.vN)(),i=(0,oe.h3)(),o=(0,oe.hI)(),c=s.useCallback(function(){var e=(0,G.Z)(Q().mark((function e(n){var t,a,o,c;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r(n);case 4:if(!(t=e.sent).error){e.next=8;break}return i(t.error),e.abrupt("return");case 8:a=(0,I.yC)(n),(o=document.createElement("a")).setAttribute("href","data:".concat(a,";base64,").concat(t.content.toString("base64"))),c=(0,I.UO)(n),o.setAttribute("download",c),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o);case 17:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[i,r]);return s.useCallback((0,G.Z)(Q().mark((function r(){var i,u,l,s,d,f,p,h,v;return Q().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n){r.next=32;break}i=!0,u=!1,l=void 0,r.prev=2,s=t.filter((function(e){return e.type===Z.Tv.File})).entries()[Symbol.iterator]();case 4:if(i=(d=s.next()).done){r.next=15;break}if(f=(0,a.Z)(d.value,2),p=f[0],h=f[1],v=h.path,p%10!==0){r.next=11;break}return r.next=11,new Promise((function(e){setTimeout(e,1500)}));case 11:c(v);case 12:i=!0,r.next=4;break;case 15:r.next=21;break;case 17:r.prev=17,r.t0=r.catch(2),u=!0,l=r.t0;case 21:r.prev=21,r.prev=22,i||null==s.return||s.return();case 24:if(r.prev=24,!u){r.next=27;break}throw l;case 27:return r.finish(24);case 28:return r.finish(21);case 29:o({action:"downloaded",fileType:Z.Tv.File,multiSelect:t.length>1}),r.next=33;break;case 32:c(e),o({action:"downloaded",fileType:Z.Tv.File});case 33:case"end":return r.stop()}}),r,null,[[2,17,21,29],[22,,24,28]])}))),[c,o,e,n,t])}(n),ce=se(n,Z.Tv.File);return(0,c.BX)("div",{ref:K,onMouseEnter:u,onMouseLeave:d,className:"jsx-f31f21e5502207f1 "+(f()({"is-dragging":X,"is-removing":N})||""),children:[(0,c.tZ)(m.ZP,{active:i,selected:Y,onClick:J,onAuxClick:_,actions:t?void 0:q,onAction:function(e){switch(e){case w.st.Rename:return v(n),void(0,U.Z)({replId:R,action:"renamed",fileType:Z.Tv.File});case w.st.OpenTab:return void $();case w.st.OpenPane:return void ee();case w.st.CopyLink:var t=(0,z.dr)({path:n});return void(0,y.Z)(t);case w.st.Download:return void ne();case w.st.Duplicate:return x(n,o.map((function(e){return e.filename}))),void(0,U.Z)({replId:R,action:"duplicated",fileType:Z.Tv.File});case w.st.Delete:return void ce()}},children:(0,c.BX)("div",{className:"jsx-f31f21e5502207f1 node-info",children:[(0,c.tZ)(m.qh,{type:Z.Tv.File,path:n,active:i||Y}),(0,c.tZ)(m.tJ,{title:n,children:P}),t?null:(0,c.tZ)(A,{path:n}),r?(0,c.tZ)(te,{size:16,progress:r}):null]})}),(0,c.tZ)(k.Z,{isOpen:Boolean(B),onRequestClose:function(){return M(null)},children:B?(0,c.tZ)(C.Z,{paths:[B.path],onCancel:function(){return M(null)},onConfirm:function(){g(n,B),M(null)}}):null}),(0,c.tZ)(l(),{id:"f31f21e5502207f1",children:"div.jsx-f31f21e5502207f1{max-width:100%;width:100%}.node-info.jsx-f31f21e5502207f1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.is-removing.jsx-f31f21e5502207f1{opacity:.5;pointer-events:none}.is-dragging.jsx-f31f21e5502207f1{opacity:.7}"})]})}var ve=t(47589),me=t(6625);function be(e){var n=e.type,t=e.create,r=e.onCreate,i=e.onError,o=e.onCancel,u=e.parentPath,d=e.siblings,f=(0,me.Z)(),p=(0,a.Z)(s.useState(null),2),h=p[0],v=p[1];return h?(0,c.BX)("div",{className:"jsx-610c999e6cd0a051 pending-node",children:[(0,c.BX)(m.ZP,{onClick:function(){return null},children:[(0,c.tZ)(m.qh,{path:h.filename,type:h.type}),(0,c.tZ)(m.tJ,{children:h.filename})]}),(0,c.tZ)(l(),{id:"610c999e6cd0a051",children:".pending-node.jsx-610c999e6cd0a051{pointer-events:none;opacity:.5}"})]}):(0,c.tZ)(ve.Z,{parentPath:u,siblings:d,type:n,onCancel:o,onSubmit:function(e){if(!h){var a={path:u===x.Ql?e:u+"/"+e,type:n};v({filename:e,type:n}),t(a).then((function(){f.current&&(v(null),r(a))})).catch((function(e){f.current&&i(e)}))}}})}var ge=t(70917),Ze=t(42895),xe=t(7787),we=t(24561),ye=t(29736),ke=(0,ge.iv)([j.l0.justify.center,j.l0.pl(8),{overflow:"hidden",height:"100%",width:"100%","> svg":{opacity:.5,width:250,display:"flex"}}]);function Ce(e){var n,t=e.index,r=32*t+8;return(0,c.BX)(c.HY,{children:[(0,c.tZ)("rect",{x:0,y:r,rx:"3",ry:"3",width:16,height:16}),(0,c.tZ)("rect",{x:28,y:r,rx:"3",ry:"3",width:"".concat(100+(n=t,n%2!==0?-10*n:10*n)),height:16})]})}function Ee(e){var n=e.path,t=n===x.Ql,r=t?5:1;s.useEffect((function(){var e=xe.kg.timeStart({isRootPath:t});return function(){e("time to load filetree folder")}}),[t,n]);var i="fileTreeLoader-"+Math.random().toString(),a=(0,Ze.T)();return(0,c.tZ)(j.G7,{css:ke,children:(0,c.tZ)(we.ZP,{animate:!a,speed:2,backgroundColor:ye.TV.backgroundHighest,foregroundColor:ye.TV.backgroundHigher,height:32*r,width:250,viewBox:"0 0 250 ".concat(32*r),uniqueKey:i,children:Array(r).fill(null).map((function(e,n){return(0,c.tZ)(Ce,{index:n},n)}))})})}function Re(e){var n=e.onCreateClick;return(0,c.tZ)(m.ZP,{interactive:!1,children:(0,c.BX)(j.G7,{css:[j.l0.rowWithGap(4),j.l0.align.center,j.l0.px(4)],children:[(0,c.tZ)(j.xv,{variant:"small",color:"dimmer",children:"Add a"}),(0,c.tZ)(j.zx,{small:!0,onClick:function(){return n(Z.Tv.File)},text:"file",css:[j.l0.height(24),j.l0.color.foregroundDefault]}),(0,c.tZ)(j.xv,{variant:"small",color:"dimmer",children:"or"}),(0,c.tZ)(j.zx,{small:!0,onClick:function(){return n(Z.Tv.Directory)},text:"folder",css:[j.l0.height(24),j.l0.color.foregroundDefault]})]})})}function Te(e){var n=e.readOnly,t=void 0!==n&&n,r=e.onCreateClick;return t?(0,c.tZ)(m.ZP,{interactive:!1,children:(0,c.tZ)(j.G7,{css:[j.l0.rowWithGap(4),j.l0.align.center],children:(0,c.tZ)(j.xv,{variant:"small",color:"dimmer",children:"There is nothing here."})})}):(0,c.tZ)(Re,{onCreateClick:r})}var De=t(30992),Pe=t(77365),je=t(88961),Ne=t(48730);function Ae(e){var n=e.type,t=e.parentPath,r=(e.siblings,e.create),i=e.onCreate,a=e.initialFileName,o=e.onRename,u=e.onError,l=e.onClose,d=(0,s.useState)(null),f=d[0],p=d[1],h=(0,s.useRef)(null),v=(0,Ne.I)(t);(0,s.useEffect)((function(){if(a){var e=a.lastIndexOf(".");-1===e&&(e=a.length),h.current&&h.current.setSelectionRange(0,e)}}),[a]);var b=(0,De.Y)(a||"",(function(e){var n=(0,ve.z)({siblingNames:v,fileName:e,initialValue:a,parentPath:t});return n?{message:n}:null})),g=!!b.error||""===b.value,w=n===Z.Tv.File?"File":"Folder",y=a?"Rename ".concat(w):"Add ".concat(w),k=function(){return b.error?(0,c.tZ)(F.Z,{css:[j.l0.height(24),j.l0.width(24),j.l0.center],children:(0,c.tZ)(je.Z,{color:j.TV.accentNegativeDefault})}):(0,m.qh)({type:n,path:b.value,gutter:!1})};return(0,c.tZ)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),g||(a?o(b.value):function(){if(!f){var e={path:t===x.Ql?b.value:t+"/"+b.value,type:n};p({filename:b.value,type:n}),r(e).then((function(){p(null),i(e)})).catch((function(e){u(e)}))}}())},children:(0,c.BX)(F.Z,{css:[j.l0.colWithGap(16)],children:[(0,c.tZ)(S.x,{variant:"subheadDefault",children:y}),(0,c.BX)(F.Z,{css:[j.l0.rowWithGap(4),j.l0.center],children:[(0,c.tZ)(k,{}),(0,c.tZ)(j.II,{id:"fileName",ref:h,value:b.value,autoFocus:!0,onChange:function(e){return b.setValue(e.target.value)},autoCapitalize:"off",autoComplete:"off",autoCorrect:"off"})]}),b.error?(0,c.tZ)(S.x,{variant:"small",color:"dimmer",children:b.error.message}):null,(0,c.BX)(F.Z,{css:[j.l0.rowWithGap(8)],children:[(0,c.tZ)(j.zx,{text:"Cancel",outlined:!0,colorway:"negative",css:{flex:1},type:"button",onClick:l}),(0,c.tZ)(j.zx,{text:a?"Rename":"Add",colorway:"primary",iconLeft:f?(0,c.tZ)(Pe.Z,{}):void 0,css:{flex:1},disabled:g,type:"submit"})]})]})})}var Fe=t(58977),Se=t(83043);function Oe(e){var n,t,i,u=e.parentPath,l=e.nodes,d=e.unfilteredNodes,f=void 0===d?[]:d,p=e.loading,h=e.error,b=e.readOnly,g=e.disableCreate,w=(0,E.Z)().showError,y=u===x.Ql?[]:u.split("/"),C=(0,de.isMobile)({tablet:!1}),R=(0,L.y)(),T=R.fs,D=R.pendingFileType,P=R.setPendingFileType,j=R.pendingUploads,N=R.currentRenamePath,A=R.setCurrentRenamePath,F=R.renameNode,S=R.currentOp,O=(0,ae.rM)(),U=(0,ae.Hq)(),I=(0,re.qp)(),z=(0,oe.CA)(),B=(0,a.Z)((0,ue.Cm)(),1)[0],M=s.useRef(null),W=function(){M.current=null,A(null)};if(p)return(0,c.tZ)(Ee,{path:u});if(h)return(0,c.tZ)(m.ZP,{interactive:!1,children:null!==(i=h.message)&&void 0!==i?i:h});if(!l)return null;var V,X=l.some((function(e){return!!O&&(e.type===Z.Tv.File&&(u===x.Ql?O===e.filename:O===u+"/"+e.filename))})),G=!b&&D&&!g&&(u===x.Ql&&!O||O===u||X||u===x.Ql&&O&&v.ZP.includes(O)),K=new Set(l.map((function(e){return e.filename}))),Q=(null!==j&&void 0!==j?j:[]).filter((function(e){var n=e.targetPath,t=n.lastIndexOf("/");return(-1!==t?n.slice(0,t):x.Ql)===u&&!K.has(n)})),q=function(e){var n=e.path,t=e.type;return t===Z.Tv.File&&"readme.md"===n.toLowerCase()&&(0,_.j)(_.U3.README_CREATED),t===Z.Tv.File?T.writeFile(n,H.Z.from("")):T.createDir(n)};return(0,c.BX)(c.HY,{children:[l.map((function(e){var n=e.filename,t=e.type,i=(0,o.Z)(y).concat([n]).join("/");if(B.find((function(e){return e.path===i})))return null;if((null===S||void 0===S?void 0:S.path)===i)return"rename"===S.type?(0,c.BX)(m.ZP,{onClick:function(){return null},children:[(0,c.tZ)(m.qh,{type:Z.Tv.File,path:i}),(0,c.tZ)(m.tJ,{children:S.path.split("/").pop()||""})]},n):null;var a=f.filter((function(e){return e.filename!==n}));if(N===i&&C&&(M.current={initialFileName:n,path:i,siblings:a,type:t}),N===i&&!C)return(0,c.tZ)(m.ZP,{onClick:function(){return null},children:(0,c.tZ)(ve.Z,{type:t,parentPath:u,siblings:a,initialValue:n,rename:!0,onSubmit:function(e){var n=(0,o.Z)(y).concat([e]).join("/");F({fileType:t,path:i,to:n})},onCancel:function(){return A(null)}})},n);var l={siblings:a,readOnly:b,active:O===i,path:i,key:n};return t===Z.Tv.File?(0,c.tZ)(he,(0,r.Z)({},l)):(0,c.tZ)(Ue,(0,r.Z)({},l))})),Q.map((function(e,n){var t=e.targetPath,r=e.progress;return(0,c.tZ)(he,{siblings:f.filter((function(e){return e.filename!==t})),path:t,progress:r,readOnly:!0},"".concat(t,"_").concat(n))})),!b&&!l.length&&u===x.oh&&(0,c.tZ)(ee,{onCreateClick:function(){return function(e){return J.apply(this,arguments)}({fs:T})}}),l.length||u===x.oh||G?null:(0,c.tZ)(Te,{onCreateClick:function(e){U(u),I(u),P(e)},readOnly:b}),G&&D&&!C&&(0,c.tZ)(Fe.ZP,{group:"focus-group-filetree-create",children:(0,c.tZ)(be,{siblings:f||[],parentPath:u,create:q,type:D,onError:function(e){return w("Something went wrong: ".concat(e))},onCancel:function(){return P(null)},onCreate:function(e){P(null);var n=e.path,t=e.type;U(n),I(n),t===Z.Tv.File&&z(n,{newTab:!1})}})}),C?(0,c.tZ)(k.Z,{isOpen:Boolean(C&&(G&&D||M.current)),onRequestClose:function(){P(null),W()},centered:!0,children:D||M.current?(0,c.tZ)(Ae,{type:null!==(V=null!==D&&void 0!==D?D:null===(n=M.current)||void 0===n?void 0:n.type)&&void 0!==V?V:Z.Tv.File,parentPath:u,siblings:M.current?M.current.siblings:f||[],create:q,onCreate:function(e){P(null);var n=e.path,t=e.type;U(n),I(n),t===Z.Tv.File&&z(n,{newTab:!1})},initialFileName:null===(t=M.current)||void 0===t?void 0:t.initialFileName,onRename:function(e){if(M.current){var n=(0,o.Z)(y).concat([e]).join("/");F({fileType:M.current.type,path:M.current.path,to:n}),W()}},onError:function(e){return w("Something went wrong: ".concat(e))},onClose:function(){P(null),W()}}):null}):null]})}function Ue(e){var n=e.path,t=e.active,u=e.readOnly,d=e.siblings,D=e.progress,P=(0,T.Z)(),j=(0,L.y)(),N=j.fs,F=j.setPendingFileType,S=j.pendingFileType,B=j.uploadFiles,W=j.getNodeType,G=j.setCurrentRenamePath,K=j.overwriteNode,Q=(0,ae.rM)(),H=Q?Q.split("/"):[],q=n.split("/"),Y=q[q.length-1],J=n===x.Ql,_=n===x.oh,$=q.length===H.length-1&&q.every((function(e,n){return H[n]===e})),ee=s.useRef(null),ne=(0,E.Z)().showError,te=(0,a.Z)(s.useState(null),2),ie=te[0],ce=te[1],ue=(0,a.Z)(s.useState(null),2),le=ue[0],de=ue[1],fe=(0,a.Z)(s.useState(null),2),pe=fe[0],he=fe[1],ve=(0,a.Z)(s.useState([]),2),me=ve[0],be=ve[1],ge=(0,a.Z)(s.useState([]),2),Ze=ge[0],xe=ge[1];s.useEffect((function(){if(le){var e=!1;return le.dir.then((function(n){if(!e){if(n.error){if(n.error===Z.Df.AlreadyExists){var t="."===le.path?Y:"".concat(le.path,"/").concat(Y);return void W(t).then((function(e){he({path:t,type:e}),de(null)}))}ne("Something went wrong trying to remove ".concat(Y))}de(null)}})),function(){e=!0}}}),[le,Y,W,ne]),s.useEffect((function(){if(ie){var e=!1;return("dir"in ie?ie.dir:ie.file).then((function(){e||ce(null)})),function(){e=!0}}}),[ie]);var we=(0,Se.Ol)();s.useEffect((function(){we(n)}),[N,n,we]);var ye=function(e){var n,t,r,i=e.path,a=e.initialExpanded,o=(0,h.dg)(i),c=null!==(n=null===o||void 0===o?void 0:o.children)&&void 0!==n?n:null,u=null!==(t=null===o||void 0===o?void 0:o.error)&&void 0!==t?t:null,l=Boolean(null!==(r=null===o||void 0===o?void 0:o.expanded)&&void 0!==r?r:a),s=(0,h.p$)(i),d=s.expand,f=s.collapse;return l?u?{collapse:f,expand:d,children:null,expanded:l,loading:!1,error:u}:c?{collapse:f,expand:d,children:c,loading:!1,error:u,expanded:l}:{collapse:f,expand:d,children:c,loading:!0,error:u,expanded:l}:{collapse:f,expand:d,children:null,loading:!1,error:null,expanded:l}}({path:n,initialExpanded:J||_}),ke=ye.expand,Ce=ye.children,Ee=ye.loading,Re=ye.error,Te=ye.expanded;s.useEffect((function(){!Te&&t&&S&&ke()}),[ke,Te,t,S]);var De=(0,a.Z)((0,b.c)({item:{type:Z.Tv.Directory,path:n},type:Z.Tv.Directory,canDrag:function(){return!u},collect:function(e){return{isDragging:e.isDragging()}},end:function(e,n){n.didDrop()&&de(n.getDropResult())}}),2),Pe=De[0].isDragging,je=De[1],Ne=(0,a.Z)((0,g.L)({accept:[Z.Tv.File,Z.Tv.Directory,p.FILE],canDrop:function(e){return"files"in e||e.path!==n&&!(0,R.yr)(e.path,n)},hover:function(e,n){ee.current&&J&&function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{scrollZoneSize:{w:50,h:50},scrollVelocity:{x:50,y:50},scrollUpdateThrottle:100},r=t.scrollZoneSize,i=t.scrollVelocity,o=t.scrollUpdateThrottle,c=V()((function(){var t=n.getClientOffset();if(!t)return[0,0];var o=t.x,c=t.y,u=e.getBoundingClientRect(),l=u.x,s=u.y,d=u.width,f=u.height,p=Math.min(d/2,r.w),h=Math.min(f/2,r.h),v=[[s,s+h],[s+f-h,s+f]],m=function(e,n){var t=(0,a.Z)(n,2),r=t[0],i=t[1];return M()(e,r[0],r[1])?(e-r[1])/(r[1]-r[0]):M()(e,i[0],i[1])?(e-i[0])/(i[1]-i[0]):0};return[m(o,[[l,l+p],[l+d-p,l+d]])*i.x,m(c,v)*i.y]}),o,{trailing:!1})();if(c){var u=(0,a.Z)(c,2),l=u[0],s=u[1];if(0!==l||0!==s){var d=e.scrollLeft,f=e.scrollTop,p=e.scrollWidth,h=e.scrollHeight,v=e.clientWidth,m=e.clientHeight;requestAnimationFrame((function(){e.scrollTop=X(0,p-v,d+l),e.scrollTop=X(0,h-m,f+s)}))}}}(ee.current,n)},drop:function(e,t){if(!t.didDrop()){if(!("dirContent"in e)){var r=e.path.split("/"),i=r[r.length-1];if(null===Ce||void 0===Ce?void 0:Ce.some((function(t){return"".concat(n,"/").concat(t.filename)===e.path}))){var a=Promise.resolve({error:null});return e.type===Z.Tv.Directory?{dir:a,path:n}:{file:a,path:n}}if(null===Ce||void 0===Ce?void 0:Ce.find((function(e){return e.filename===i})))return e.type===Z.Tv.Directory?{dir:Promise.resolve({error:Z.Df.AlreadyExists}),path:n}:{file:Promise.resolve({error:Z.Df.AlreadyExists}),path:n};var o=n+"/"+i;if(e.type===Z.Tv.Directory){var c=N.moveDir(e.path,o);return ce({dir:c,path:o}),{dir:c,path:n}}var u=N.moveFile(e.path,o);return ce({file:u,path:o}),{file:u,path:n}}e.dirContent.then((function(e){B({parentPath:J?void 0:n,files:e})}))}},collect:function(e){return{isOver:e.canDrop()&&e.isOver({shallow:!0})}}}),2),Ae=Ne[0].isOver,Fe=Ne[1];s.useEffect((function(){if(Ae&&!Te){var e=setTimeout(ke,500);return function(){clearTimeout(e)}}}),[Ae,ke,Te]),s.useEffect((function(){if(Ce&&n===x.Ql){var e=Ce.filter((function(e){return v.uP.includes(e.filename)}));be(e)}}),[n,Ce]),s.useEffect((function(){if(Ce&&n===x.Ql){var e=Ce.filter((function(e){return v.nh.includes(e.filename)}));xe(e)}}),[n,Ce]);var Ue,Le=Ce?(0,o.Z)(Ce):null;if(Le){var Me=n!==x.Ql?"".concat(n,"/"):"";Le=Le.filter((function(e){return!v.ZP.includes(Me+e.filename)}))}if(Le&&n===x.Ql){var We=Le.findIndex((function(e){return e.type===Z.Tv.Directory&&".lesson"===e.filename}));if(We>=0)Ue=(0,a.Z)(Le.splice(We,1),1)[0]}var Ve={readOnly:u,siblings:d,progress:D,parentPath:n},Xe=(0,re.n5)(n),Ge=function(e){var n=(0,ae.Hq)(),t=(0,re.qp)(),r=(0,re.lK)(),i=(0,re.IQ)(),a=(0,h.Fz)(),o=(0,oe.G)("flagFiletreeMultiselect");return s.useCallback((function(c){var u=c.shiftKey,l=c.altKey;return o&&(l||u)?l?(r(e),void n(e)):void(u&&i(e)):(a(e),n(e),void t(e))}),[o,a,e,n,t,r,i])}(n),Ke=function(e){var n=(0,ae.Hq)(),t=(0,re.qp)(),r=(0,h.p$)(e).collapse;return s.useCallback((function(i){n(e),t(e),r()}),[r,e,t,n])}(n),Qe=se(n,Z.Tv.Directory),He=(0,re.qp)(),qe=(0,ae.Hq)();return(0,c.BX)("div",{title:n===x.Ql?void 0:n,ref:function(e){ee.current=e,Fe(e),je(e)},className:"jsx-aba2404b888b4600 "+(f()("dir-node",{"is-dropping":Ae,"is-dragging":Pe,"is-removing":le,"root-node":n===x.Ql})||""),children:[J||_?null:(0,c.tZ)(m.ZP,{active:t||Ae,selected:Xe,onClick:Ge,actions:u?void 0:[w.st.Rename,w.st.AddFile,w.st.AddFolder,w.st.CopyLink,w.st.Delete],onAction:function(e){switch(e!==w.st.Delete&&(t||(He(n),qe(n)),Te||ke()),e){case w.st.Rename:return G(n),void(0,U.Z)({replId:P,action:"renamed",fileType:Z.Tv.Directory});case w.st.AddFile:return F(Z.Tv.File),void(0,U.Z)({replId:P,action:"added",source:"filetree",fileType:Z.Tv.File});case w.st.AddFolder:return F(Z.Tv.Directory),void(0,U.Z)({replId:P,action:"added",source:"filetree",fileType:Z.Tv.Directory});case w.st.CopyLink:var r=(0,z.dr)({path:n});return void(0,y.Z)(r);case w.st.Delete:return void Qe()}},children:(0,c.BX)("div",{className:"jsx-aba2404b888b4600 node-info",children:[(0,c.tZ)(m.qh,{type:Z.Tv.Directory,path:n,expanded:Te,active:t||Xe}),(0,c.tZ)(m.tJ,{title:n,children:Y}),Te||u?null:(0,c.tZ)(A,{path:n})]})}),(0,c.BX)("div",{css:[O.l0.flex.row],className:"jsx-aba2404b888b4600 file-nodes-container",children:[J?null:(0,c.tZ)("div",{onClick:Ke,className:"jsx-aba2404b888b4600 dir-node-gutter",children:(0,c.tZ)("div",{className:"jsx-aba2404b888b4600 "+(f()("rule",{drawn:$})||"")})}),(0,c.tZ)("div",{css:[O.l0.flex.grow(1),O.l0.maxWidth("100%"),O.l0.overflow("hidden")],className:"jsx-aba2404b888b4600 "+(f()({hidden:!Te})||""),children:(0,c.tZ)(Oe,(0,r.Z)({nodes:Le,unfilteredNodes:null!==Ce&&void 0!==Ce?Ce:[],loading:Ee,error:Re},Ve))})]}),ie?(0,c.tZ)(Oe,(0,i.Z)((0,r.Z)({},Ve),{readOnly:!0,nodes:[{filename:(0,I.UO)(ie.path),type:"file"in ie?Z.Tv.File:Z.Tv.Directory}]})):null,Ze.length&&!Ee?(0,c.tZ)(Ie,{children:(0,c.tZ)(Oe,(0,i.Z)((0,r.Z)({},Ve),{unfilteredNodes:null!==Ce&&void 0!==Ce?Ce:[],nodes:Ze,disableCreate:!0}))}):null,Ue&&!Ee?(0,c.tZ)(Be,{readOnly:Boolean(u),children:(0,c.tZ)(Oe,(0,i.Z)((0,r.Z)({},Ve),{nodes:[Ue],disableCreate:!0}))}):null,me.length&&!Ee?(0,c.tZ)(ze,{children:(0,c.tZ)(Oe,(0,i.Z)((0,r.Z)({},Ve),{nodes:me,unfilteredNodes:null!==Ce&&void 0!==Ce?Ce:[],disableCreate:!0}))}):null,(0,c.tZ)(k.Z,{isOpen:Boolean(pe),onRequestClose:function(){return he(null)},children:pe?(0,c.tZ)(C.Z,{paths:[pe.path],onCancel:function(){return he(null)},onConfirm:function(){K(n,pe),he(null)}}):null}),(0,c.tZ)(l(),{id:"aba2404b888b4600",children:".dir-node.jsx-aba2404b888b4600{-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);width:100%}.dir-node-gutter.jsx-aba2404b888b4600{min-width:1em;padding:0 10px 0 12px;cursor:pointer}.rule.jsx-aba2404b888b4600{height:100%;width:1px;-webkit-transition:all.1s;-moz-transition:all.1s;-o-transition:all.1s;transition:all.1s}.rule.drawn.jsx-aba2404b888b4600,.root-node:hover .rule.jsx-aba2404b888b4600{background-color:var(--background-highest)}.dir-node-gutter.jsx-aba2404b888b4600:hover .rule.jsx-aba2404b888b4600{background-color:var(--accent-primary-default)}.root-node.jsx-aba2404b888b4600{overflow-y:auto;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding:0 var(--space-8)var(--space-16)}.node-info.jsx-aba2404b888b4600{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.hidden.jsx-aba2404b888b4600{display:none;height:0;width:0}.is-removing.jsx-aba2404b888b4600{opacity:.5;pointer-events:none}.is-dropping.jsx-aba2404b888b4600{background-color:var(--accent-primary-dimmer)}.is-dragging.jsx-aba2404b888b4600{opacity:.7}"})]})}function Le(e){var n=e.title,t=e.notice,r=e.children;return(0,c.BX)(F.Z,{css:[O.l0.flex.column],children:[(0,c.tZ)(F.Z,{css:[O.l0.p(8),O.l0.mt(8),{borderTop:"1px dashed ".concat(O.TV.outlineDimmest)}],children:(0,c.tZ)(S.x,{variant:"text",css:[O.l0.fontWeight.medium,O.l0.color.foregroundDimmest,{userSelect:"none"}],children:n})}),t,(0,c.tZ)(F.Z,{css:[O.l0.width("100%")],children:r})]})}function Ie(e){var n=e.children;return(0,c.tZ)(Le,{title:"Config files",children:n})}function ze(e){var n=e.children;return(0,c.tZ)(Le,{title:"Packager files",children:n})}function Be(e){var n=e.children,t=e.readOnly;return(0,c.tZ)(Le,{title:"Lesson",notice:t?null:(0,c.tZ)(F.Z,{css:[O.l0.p(16),O.l0.pt(0),O.l0.pb(8),O.l0.width("100%")],children:(0,c.tZ)(F.Z,{css:[O.l0.py(8),O.l0.px(16),O.l0.backgroundColor.accentPrimaryDimmest,O.l0.borderRadius(8)],children:(0,c.BX)(S.x,{children:["Place your lesson contents here.",(0,c.tZ)("br",{}),(0,c.tZ)("a",{href:"https://docs.replit.com/teams-edu/lesson-authoring",target:"_blank",children:"Learn more"})]})})}),children:n})}},46609:function(e,n,t){t.d(n,{i:function(){return i},y:function(){return a}});var r=t(67294),i=r.createContext({fs:{},pendingFileType:null,setPendingFileType:function(){},pendingUploads:[],uploadFiles:function(){},getNodeType:function(){throw new Error("getNodeType not implemented")},overwriteNode:function(){},currentRenamePath:null,setCurrentRenamePath:function(){},renameNode:function(){},duplicateFile:function(){throw new Error("duplicateFile not implemented")},currentOp:null,nodeOpError:null});function a(){return r.useContext(i)}},38935:function(e,n,t){t.d(n,{dk:function(){return g},st:function(){return r}});var r,i,a=t(14924),o=t(26042),c=t(69396),u=t(35944),l=t(60536),s=t.n(l),d=t(67294),f=t(94184),p=t.n(f),h=t(44781),v=t(64098),m=t(96594),b=t(70804);!function(e){e.AddFile="AddFile",e.AddFolder="AddFolder",e.UploadFile="UploadFile",e.UploadFolder="UploadFolder",e.DownloadZip="DownloadZip",e.Duplicate="Duplicate",e.ShowHiddenFiles="ShowHiddenFiles",e.HideHiddenFiles="HideHiddenFiles",e.OpenTab="OpenTab",e.OpenPane="OpenPane",e.CopyLink="CopyLink",e.Rename="Rename",e.Download="Download",e.Delete="Delete"}(r||(r={}));var g=(i={},(0,a.Z)(i,r.AddFile,"Add file"),(0,a.Z)(i,r.AddFolder,"Add folder"),(0,a.Z)(i,r.UploadFile,"Upload file"),(0,a.Z)(i,r.UploadFolder,"Upload folder"),(0,a.Z)(i,r.ShowHiddenFiles,"Show hidden files"),(0,a.Z)(i,r.HideHiddenFiles,"Hide hidden files"),(0,a.Z)(i,r.DownloadZip,"Download as zip"),(0,a.Z)(i,r.Duplicate,"Duplicate"),(0,a.Z)(i,r.OpenTab,"Open tab"),(0,a.Z)(i,r.OpenPane,"Open pane"),(0,a.Z)(i,r.CopyLink,"Copy link"),(0,a.Z)(i,r.Rename,"Rename"),(0,a.Z)(i,r.Download,"Download"),(0,a.Z)(i,r.Delete,"Delete"),i);function Z(e){var n=e.isNegative,t=e.isHighlighted,r=e.children;return(0,u.BX)("div",{className:"jsx-5b1d60dcc3720e48 "+(p()({"is-negative":n,"is-highlighted":t})||""),children:[(0,u.tZ)(h.Z,{size:"small",children:r}),(0,u.tZ)(s(),{id:"5b1d60dcc3720e48",children:"div.jsx-5b1d60dcc3720e48{color:var(--foreground-default);padding:var(--space-8);margin:var(--space-4);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);font-weight:var(--font-weight-regular);cursor:pointer;white-space:nowrap}div.jsx-5b1d60dcc3720e48:hover{cursor:pointer}.is-highlighted.jsx-5b1d60dcc3720e48{background-color:var(--background-higher)}.is-negative.jsx-5b1d60dcc3720e48 *{color:var(--accent-negative-default)!important}.is-negative.jsx-5b1d60dcc3720e48:hover{background-color:var(--accent-negative-default)}.is-negative.jsx-5b1d60dcc3720e48:hover *{color:var(--white)!important}"})]})}var x=function(e,n){var t=e.isActive,i=e.actions,a=e.onAction,l=e.onOpenChange,f=d.useRef(!1),p=(0,m.L7)({items:i,onSelectedItemChange:function(e){var n=e.selectedItem;n&&(f.current||a(n),E())}}),h=p.isOpen,x=p.getToggleButtonProps,w=p.getMenuProps,y=p.highlightedIndex,k=p.getItemProps,C=p.openMenu,E=p.reset;d.useImperativeHandle(n,(function(){return{open:C}})),d.useEffect((function(){l&&l(h)}),[h,l]);var R=x(),T=i.includes(r.UploadFile);return(0,u.BX)("div",{className:s().dynamic([["c3e4a22b182e0b65",[t?"var(--white)":"var(--foreground-dimmest)",t?"auto":"var(--foreground-default)"]]])+" node-actions-menu",children:[(0,u.BX)(b.Z,{elevated:!0,showArrow:!0,isOpen:h,placement:"right-start",padding:0,onClickOutside:E,children:[(0,u.tZ)("button",(0,c.Z)((0,o.Z)({},R),{onClick:function(e){e.stopPropagation(),R.onClick(e)},className:s().dynamic([["c3e4a22b182e0b65",[t?"var(--white)":"var(--foreground-dimmest)",t?"auto":"var(--foreground-default)"]]])+" "+(R&&null!=R.className&&R.className||""),children:(0,u.tZ)(v.MoreVertical,{size:20})})),(0,u.tZ)("div",(0,c.Z)((0,o.Z)({},w({},{suppressRefError:!0})),{className:s().dynamic([["c3e4a22b182e0b65",[t?"var(--white)":"var(--foreground-dimmest)",t?"auto":"var(--foreground-default)"]]]),children:h?(0,u.BX)("ul",{className:s().dynamic([["c3e4a22b182e0b65",[t?"var(--white)":"var(--foreground-dimmest)",t?"auto":"var(--foreground-default)"]]]),children:[i.map((function(e,n){return(0,u.tZ)("li",(0,c.Z)((0,o.Z)({"data-cy":"filetree-node-action-".concat(e)},k({item:e,index:n,onClick:function(n){f.current=!0,setTimeout((function(){f.current=!1})),a(e),n.stopPropagation()}})),{className:s().dynamic([["c3e4a22b182e0b65",[t?"var(--white)":"var(--foreground-dimmest)",t?"auto":"var(--foreground-default)"]]]),children:(0,u.tZ)(Z,{isHighlighted:y===n,isNegative:e===r.Delete,children:g[e]})}),e)})),T?(0,u.BX)("div",{className:s().dynamic([["c3e4a22b182e0b65",[t?"var(--white)":"var(--foreground-dimmest)",t?"auto":"var(--foreground-default)"]]])+" protip",children:[(0,u.tZ)("span",{className:s().dynamic([["c3e4a22b182e0b65",[t?"var(--white)":"var(--foreground-dimmest)",t?"auto":"var(--foreground-default)"]]]),children:"PROTIP:"})," drag and drop files or folders to upload!"]}):null]}):null}))]}),(0,u.tZ)(s(),{id:"c3e4a22b182e0b65",dynamic:[t?"var(--white)":"var(--foreground-dimmest)",t?"auto":"var(--foreground-default)"],children:".node-actions-menu.__jsx-style-dynamic-selector{position:relative;width:20px;height:100%}.is-touch-device .protip.__jsx-style-dynamic-selector{display:none}.protip.__jsx-style-dynamic-selector{font-size:13px;padding:10px 5px;text-align:center;color:var(--foreground-default);border-top:1px solid var(--outline-dimmest);width:135px}.protip.__jsx-style-dynamic-selector>span.__jsx-style-dynamic-selector{color:var(--accent-positive-default);font-weight:var(--font-weight-bold);font-size:12px}button.__jsx-style-dynamic-selector{top:0;width:100%;height:100%;display:block;background-color:transparent;border:0 none;cursor:pointer;color:".concat(t?"var(--white)":"var(--foreground-dimmest)",";-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4)}button.__jsx-style-dynamic-selector:hover{color:").concat(t?"auto":"var(--foreground-default)","}ul.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;list-style:none;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);z-index:1;-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);background:var(--background-default)}ul.__jsx-style-dynamic-selector:focus{outline:none}")})]})};n.ZP=d.forwardRef(x)},76198:function(e,n,t){t.d(n,{qh:function(){return w},tJ:function(){return y},ZP:function(){return x}});var r=t(26042),i=t(10253),a=t(35944),o=t(60536),c=t.n(o),u=t(67294),l=t(94184),s=t.n(l),d=t(38935),f=t(3401),p=t(52456),h=t(65456),v=t(63736);function m(e){return null==e?null:e.scrollHeight>e.clientHeight?e:m(e.parentElement)}function b(e){var n=e.element,t=m(n);if(t){var r=window.getComputedStyle(t,null),i=parseInt(r.getPropertyValue("border-top-width"),10),a=parseInt(r.getPropertyValue("border-left-width"),10),o=n.offsetTop-t.offsetTop<t.scrollTop,c=n.offsetTop-t.offsetTop+n.clientHeight-i>t.scrollTop+t.clientHeight,u=n.offsetLeft-t.offsetLeft<t.scrollLeft,l=n.offsetLeft-t.offsetLeft+n.clientWidth-a>t.scrollLeft+t.clientWidth,s=o&&!c;(o||c||u||l)&&n.scrollIntoView(s)}}var g=t(21641),Z=t(15085);function x(e){var n=e.active,t=e.selected,o=void 0!==t&&t,l=e.children,f=e.onClick,p=e.onAuxClick,h=e.interactive,v=void 0===h||h,m=e.className,x=e.actions,w=e.onAction,y=u.useRef(null),k=(0,i.Z)(u.useState(!1),2),C=k[0],E=k[1],R=u.useRef(null),T=(0,g.N)();return u.useLayoutEffect((function(){n&&y.current&&(T.getMonitor().isDragging()||b({element:y.current}))}),[n,T]),(0,a.BX)("div",{ref:y,onClick:f,onAuxClick:p,css:[Z.l0.height(Z.TV.space32),Z.l0.cursor.pointer,Z.l0.display.flex,Z.l0.align.center,Z.l0.color.foregroundDimmer,Z.l0.borderRadius(8),Z.l0.fontSize(Z.TV.fontSizeDefault),o?[Z.l0.backgroundColor.accentPrimaryDefault,Z.l0.color.white,{border:"1px solid ".concat(Z.TV.accentPrimaryDefault)}]:(0,r.Z)({},Z.gU.nofill),n?[{border:"1px solid ".concat(Z.TV.accentPrimaryDefault)}]:[],{transition:"initial"}],onContextMenu:function(e){R.current&&(e.preventDefault(),R.current.open())},className:c().dynamic([["1713e83f4772d668",[n||o||C?"flex":"none",n||o||C?1:0]]])+" "+(s()(m,"node",{active:n,interactive:v})||""),children:[l,x&&x.length&&w?(0,a.tZ)("div",{className:c().dynamic([["1713e83f4772d668",[n||o||C?"flex":"none",n||o||C?1:0]]])+" actions",children:(0,a.tZ)(d.ZP,{ref:R,onOpenChange:E,actions:x,onAction:w,isActive:n||o})}):null,(0,a.tZ)(c(),{id:"1713e83f4772d668",dynamic:[n||o||C?"flex":"none",n||o||C?1:0],children:".actions.__jsx-style-dynamic-selector{display:".concat(n||o||C?"flex":"none",";opacity:").concat(n||o||C?1:0,";-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-left:auto;-webkit-transition:opacity;-moz-transition:opacity;-o-transition:opacity;transition:opacity;height:100%}.is-touch-device .actions.__jsx-style-dynamic-selector,.node.__jsx-style-dynamic-selector:hover .actions.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;opacity:1}")})]})}function w(e){var n=e.expanded,t=e.active,r=e.type,i=e.path,o=e.gutter,u=void 0===o||o,l=null;if(r===h.Tv.Directory&&n)l=(0,a.tZ)(p.Z,{});else if(r===h.Tv.Directory)l=(0,a.tZ)(f.Z,{});else{var s=t?"var(--white)":void 0;l=(0,a.tZ)(v.Z,{path:i,fill:s})}return(0,a.BX)("div",{className:"jsx-a0e8f07e5ed8d484 node-icon",children:[u?(0,a.tZ)("div",{className:"jsx-a0e8f07e5ed8d484 gutter"}):null,(0,a.tZ)("div",{className:"jsx-a0e8f07e5ed8d484 icon",children:l}),(0,a.tZ)(c(),{id:"a0e8f07e5ed8d484",children:".node-icon.jsx-a0e8f07e5ed8d484{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.icon.jsx-a0e8f07e5ed8d484{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:24px;height:24px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.gutter.jsx-a0e8f07e5ed8d484{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:var(--space-4);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}"})]})}function y(e){var n=e.children,t=e.title;return(0,a.BX)("div",{title:null!==t&&void 0!==t?t:n,className:"jsx-55d3ca1db7a8ec81",children:[(0,a.tZ)("span",{css:[{userSelect:"none"}],className:"jsx-55d3ca1db7a8ec81",children:n}),(0,a.tZ)(c(),{id:"55d3ca1db7a8ec81",children:"div.jsx-55d3ca1db7a8ec81{font-size:var(--font-size-default);-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;padding-left:var(--space-8);padding-right:var(--space-4);overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}"})]})}},47589:function(e,n,t){t.d(n,{Z:function(){return N},z:function(){return D}});var r=t(26042),i=t(69396),a=t(10253),o=t(29815),c=t(35944),u=t(60536),l=t.n(u),s=t(67294),d=t(65456),f=t(30992),p=t(27206),h=t(76198),v=t(63377),m=t(81470),b=t(15519),g=t(96594),Z=t(99408),x=t(1864),w=t(50009),y=t(84810),k=t(31066),C=t(42456),E=t(63805),R=t(76216),T=t(48730);function D(e){var n=e.siblingNames,t=e.fileName,r=e.initialValue,i=e.parentPath;if(t.includes("/"))return"File names cannot include forward slashes";if("."===t||".."===t)return'File names cannot be "'.concat(t,'"');if(t.match(/^\s/)||t.match(/\s$/))return"File names cannot start or end with whitespace";if(r!==t&&n.includes(t))return"A file or folder with that name already exists";if(t.length>100)return"File names cannot be longer than 100 characters";var a=i===k.Ql?t:i+"/"+t;return".env"===a?"You can create environment variables via the environment variables sidebar! (.env files are deprecated)":(0,y.C)(a)?'"'.concat(a,'" is reserved'):null}function P(){var e=[".md",".draw"],n=function(){var e=(0,v.Z)(),n=(0,R.Z)(),t=(0,m.aE)({variables:{replId:e}}).data,r=null;return"Repl"===(null===t||void 0===t?void 0:t.repl.__typename)&&(r=b.Z.getMainFileName(n)),r}();n&&"."!==n[0]&&e.unshift((0,x.extname)(n));var t=function(){var e=(0,Z.Z)().session.getRecentFiles(),n=(0,C.Z)();return(0,E.isMobile)()?e:n}();if(t&&t.length>0){var r=(0,x.extname)(t[0]);r&&"."!==r&&e.unshift(r)}var i=(0,o.Z)(new Set(e)),a=b.Z.allSupportedByPopularity().map((function(e){return"."+e.ext})).sort(),c=(0,o.Z)(new Set(i.concat(a).concat([".json",".txt",".toml",".css",".nix"])));return{defaultExtensions:i,dotExtensions:[".gitignore",".replit"],allSuggestions:c}}var j=function(e){var n=e.onSelect,t=e.onCancel,o=e.parentPath,u=e.type,d=(e.siblings,(0,T.I)(o)),f=P(),v=f.defaultExtensions,m=f.dotExtensions,b=f.allSuggestions,Z=(0,a.Z)(s.useState(""),2),y=Z[0],k=Z[1],C=s.useRef(null);s.useEffect((function(){y&&n(y)}),[y,n]);var E=(0,a.Z)(s.useState([]),2),R=E[0],j=E[1],N=(0,a.Z)(s.useState(!1),2),A=N[0],F=N[1],S=(0,g.Kb)({items:R,defaultHighlightedIndex:0,initialHighlightedIndex:0,onInputValueChange:function(e){var n=e.inputValue;if(!n)return j([]),void S.reset();var t=n.includes(".")?n.slice(0,n.lastIndexOf(".")):n,r=n.includes(".")?(0,x.extname)(n):null,i=(""===r?m:"."===r||null===r||v.includes(r)?v:b).map((function(e){return t+e})).filter((function(e){return!D({siblingNames:d,fileName:e,parentPath:o})})).filter((function(e){return e!==n}));if(i.unshift(n),"string"===typeof r){var a=i.filter((function(e){return e.startsWith(n)&&""!==n}));return 0===a.length?(j([]),void S.reset()):void j(a)}j(i)},onSelectedItemChange:function(e){e.selectedItem&&k(O)}}),O=S.highlightedIndex>-1&&S.inputValue&&R[S.highlightedIndex]?R[S.highlightedIndex]:"",U=D({siblingNames:d,fileName:O,parentPath:o});return(0,c.BX)("div",{children:[(0,c.tZ)("div",(0,i.Z)((0,r.Z)({className:"combobox"},S.getComboboxProps()),{children:(0,c.tZ)(p.ZP,(0,r.Z)({autoFocus:!0,validationResults:U?[{state:"error",message:U}]:void 0},S.getInputProps({placeholder:"",ref:C,onBlur:function(){t()},onKeyDown:function(e){var r=function(){e.nativeEvent.preventDownshiftDefault=!0};if("Home"!==e.key&&"End"!==e.key)return"Tab"===e.key?(r(),void n(O)):void("Escape"!==e.key||""!==O?"ArrowDown"===e.key||"ArrowUp"===e.key?F(!0):F(!1):t());A||r()}})))})),(0,c.BX)("div",(0,i.Z)((0,r.Z)({},S.getMenuProps()),{className:"jsx-3334e859a3d5803a",children:[S.isOpen?(0,c.tZ)("ul",{className:"jsx-3334e859a3d5803a menu",children:R.map((function(e,n){return(0,c.BX)("div",{className:"jsx-3334e859a3d5803a liwrap",children:[(0,c.tZ)("div",{className:"jsx-3334e859a3d5803a icon",children:(0,c.tZ)(h.qh,{type:u,path:e})}),(0,c.BX)("li",(0,i.Z)((0,r.Z)({style:S.highlightedIndex===n?{backgroundColor:"var(--accent-primary-dimmer)"}:{}},S.getItemProps({item:e,index:n})),{onMouseDown:function(){k(e)},className:"jsx-3334e859a3d5803a truncate",children:[" ",(0,c.BX)("bdi",{className:"jsx-3334e859a3d5803a",children:[S.inputValue?(0,c.tZ)(w.gr,{source:e,match:S.inputValue,matchStyle:{color:S.highlightedIndex===n?"var(--foreground-dimmer)":"var(--accent-primary-default)"},style:{color:"var(--foreground-dimmer)"}}):e," "]})]}),"".concat(e).concat(n))]},"".concat(n).concat(e).concat(n))}))}):null,(0,c.tZ)(l(),{id:"3334e859a3d5803a",children:'.menu.jsx-3334e859a3d5803a{font-weight:var(--font-weight-regular);cursor:pointer;overflow-y:auto;top:100%;width:100%;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:var(--background-default);border:1px solid var(--background-higher);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);list-style:none;-webkit-box-shadow:var(--shadow-1);-moz-box-shadow:var(--shadow-1);box-shadow:var(--shadow-1)}.truncate.jsx-3334e859a3d5803a{white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;direction:rtl;text-align:left}@media not all and (-webkit-min-device-pixel-ratio:0),not all and (min--moz-device-pixel-ratio:0),not all and (min-resolution:.001dpcm){@media{.truncate.jsx-3334e859a3d5803a{direction:ltr}}}@mediaand(-webkit-min-device-pixel-ratio:0){@media{.truncate.jsx-3334e859a3d5803a{direction:ltr}}}@media not all and (-webkit-min-device-pixel-ratio:0),not all and (min--moz-device-pixel-ratio:0),not all and (min-resolution:.001dpcm){@supports(-webkit-appearance:none)and (stroke-color:transparent){.truncate.jsx-3334e859a3d5803a{direction:ltr}}}.combobox.jsx-3334e859a3d5803a{display:"inline-block"}.li-wrap.jsx-3334e859a3d5803a{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;position:relative}li.jsx-3334e859a3d5803a{color:var(--foreground-default);margin:var(--space-4);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);font-weight:var(--font-weight-regular);cursor:pointer;white-space:nowrap;padding-top:var(--space-8);padding-right:var(--space-8);padding-bottom:var(--space-8);padding-left:var(--space-48)}.icon.jsx-3334e859a3d5803a{position:absolute;padding-left:var(--space-8);margin-top:var(--space-4);color:var(--foreground-dimmer)}'})]}))]})};function N(e){var n=e.type,t=e.initialValue,r=e.onSubmit,i=e.onCancel,a=e.siblings,o=e.parentPath,u=e.rename,v=(0,T.I)(o),m=s.useRef(null),b=(0,f.Y)(t||"",(function(e){var n=D({siblingNames:v,fileName:e,initialValue:t,parentPath:o});return n?{message:n}:null}));return s.useEffect((function(){if(t){var e=t.lastIndexOf(".");-1===e&&(e=t.length),m.current&&m.current.setSelectionRange(0,e)}}),[t]),(0,c.BX)("div",{className:"jsx-214be0f492dbcad3 input-wrap",children:[u||n===d.Tv.Directory?(0,c.BX)(c.HY,{children:[(0,c.tZ)(p.ZP,{ref:m,validationResults:b.error?[{state:"error",message:b.error.message}]:void 0,autoFocus:!0,value:b.value,onBlur:function(){b.value&&b.value!==t?b.error?i():r(b.value):i()},onKeyUp:b.validate,onKeyDown:function(e){if("Enter"===e.key){if(b.error)return;return b.value!==t&&b.value?void r(b.value):void i()}"Escape"===e.key&&i()},onChange:function(e){b.setValue(e.target.value)}}),(0,c.tZ)("div",{className:"jsx-214be0f492dbcad3 icon",children:(0,c.tZ)(h.qh,{type:n,path:b.value})})]}):(0,c.tZ)(j,{onSelect:function(e){D({siblingNames:v,fileName:e,parentPath:o})||r(e)},onCancel:i,parentPath:o,type:n,siblings:a}),(0,c.tZ)(l(),{id:"a7badbaaf49636d0",children:".input-wrap.jsx-214be0f492dbcad3 input{padding-left:-webkit-calc(var(--space-32));padding-left:-moz-calc(var(--space-32));padding-left:calc(var(--space-32))}.icon.jsx-214be0f492dbcad3{padding-left:-webkit-calc(0*var(--space-16));padding-left:-moz-calc(0*var(--space-16));padding-left:calc(0*var(--space-16))}"}),(0,c.tZ)(l(),{id:"c77e680a97c77adf",children:".input-wrap.jsx-214be0f492dbcad3{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;font-size:var(--font-size-default);position:relative}.input-wrap.jsx-214be0f492dbcad3 input{font-size:inherit;padding-top:var(--space-4);padding-bottom:var(--space-4);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);min-height:var(--space-32)}.icon.jsx-214be0f492dbcad3{color:var(--foreground-dimmer);pointer-events none;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;top:0;left:0;height:100%}"})]})}},73842:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(35944),i=(t(67294),t(48551)),a=t(15085),o=t(64098);function c(e){var n,t=e.paths,c=e.onCancel,u=e.onConfirm;return(0,r.BX)(a.G7,{css:[a.l0.colWithGap(24)],children:[(0,r.tZ)(a.h4,{level:1,variant:"headerDefault",children:t.length>1?"Overwrite files?":"Overwrite file?"}),(0,r.BX)(a.xv,{multiline:!0,children:[(n=t,(n=n.map(i.UO)).length<2?n[0]:"".concat(n.slice(0,-1).join(", ")," and ").concat(n.slice(-1)))," already"," ",t.length>1?"exist":"exists"," in the destination, are you sure you want to overwrite ",t.length>1?"them":"it","? This cannot be undone."]}),(0,r.BX)(a.G7,{css:[a.l0.rowWithGap(12),a.l0.justify.end],children:[(0,r.tZ)(a.zx,{onClick:function(){return c()},text:"Cancel"}),(0,r.tZ)(a.zx,{colorway:"negative",onClick:function(){return u()},text:"Yes, overwrite ".concat(t.length>1?"these files":"this file"),iconLeft:(0,r.tZ)(o.RefreshCcw,{})})]})]})}},81470:function(e,n,t){t.d(n,{aE:function(){return p},dO:function(){return v}});var r=t(26042),i=t(7297),a=t(31230),o=t(37887);function c(){var e=(0,i.Z)(["\n  fragment FiletreeUser on User {\n    id\n    username\n    image\n  }\n"]);return c=function(){return e},e}function u(){var e=(0,i.Z)(["\n  query FiletreeRepl($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        url\n      }\n    }\n  }\n"]);return u=function(){return e},e}function l(){var e=(0,i.Z)(["\n  query FiletreeRoster($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        user {\n          id\n          ...FiletreeUser\n        }\n        multiplayers {\n          id\n          ...FiletreeUser\n        }\n      }\n    }\n    currentUser {\n      id\n    }\n  }\n  ","\n"]);return l=function(){return e},e}var s={},d=(0,a.Ps)(c()),f=(0,a.Ps)(u());function p(e){var n=(0,r.Z)({},s,e);return o.a(f,n)}var h=(0,a.Ps)(l(),d);function v(e){var n=(0,r.Z)({},s,e);return o.a(h,n)}},87588:function(e,n,t){t.d(n,{G2:function(){return a},Hq:function(){return c},rM:function(){return o}});var r=t(15165),i=t(91131),a=(0,i.cn)(null),o=function(){return(0,i.Dv)(a,r.l)},c=function(){return(0,i.b9)(a,r.l)}},89075:function(e,n,t){t.d(n,{CA:function(){return f},G:function(){return s},Oh:function(){return m},P0:function(){return v},XC:function(){return b},X_:function(){return h},Z1:function(){return D},dd:function(){return l},h3:function(){return C},hI:function(){return R},ko:function(){return g},l5:function(){return x},ob:function(){return Z},tf:function(){return E},vN:function(){return y}});var r=t(91131),i=t(15165),a=t(64824),o=t(21131),c=t(48551),u=t(67294),l=(0,r.cn)({flags:{flagFiletreeMultiselect:!1},openFile:function(e){},shouldHideFile:function(){return!1},sortNode:function(e,n){return(0,c.x$)(e,n)},onError:function(){},onAction:function(){}}),s=function(e){var n=(0,o.Z)((function(){return(0,a.kv)(l,(function(n){return Boolean(n.flags[e])}))}),[e]);return(0,r.Dv)(n,i.l)},d=(0,r.cn)((function(e){return e(l).openFile})),f=function(){return(0,r.Dv)(d,i.l)},p=(0,r.cn)((function(e){return e(l).shouldHideFile})),h=function(){return(0,r.Dv)(p,i.l)},v=(0,r.cn)((function(e){return e(l).deleteDir})),m=(0,r.cn)((function(e){return e(l).deleteFile})),b=(0,r.cn)((function(e){var n=e(p);return function(e){var t=e.path;return!n(t)}})),g=function(){return(0,r.Dv)(b,i.l)},Z=(0,r.cn)((function(e){return e(l).sortNode})),x=function(){return(0,r.Dv)(Z,i.l)},w=(0,r.cn)((function(e){return e(l).readFile})),y=function(){return(0,r.Dv)(w,i.l)},k=(0,r.cn)((function(e){return e(l).onError})),C=function(){var e=u.useCallback((function(e){}),[]);return(0,r.Dv)(k,i.l)||e},E=(0,r.cn)((function(e){return e(l).onAction})),R=function(){var e=u.useCallback((function(e){}),[]);return(0,r.Dv)(E,i.l)||e},T=(0,r.cn)((function(e){return e(l).onFileDragEnd})),D=function(){return(0,r.Dv)(T,i.l)}},48730:function(e,n,t){t.d(n,{I:function(){return u}});var r=t(21131),i=t(64824),a=t(91131),o=t(83043),c=t(15165),u=function(e){var n=(0,r.Z)((function(){return(0,i.kv)(o.Aw,(function(n){var t,r;return(null===(t=n[e])||void 0===t||null===(r=t.children)||void 0===r?void 0:r.map((function(e){return e.filename})))||[]}))}),[e]);return(0,a.Dv)(n,c.l)}},70034:function(e,n,t){t.d(n,{Cm:function(){return h},Fe:function(){return d},GL:function(){return u},ee:function(){return p},tO:function(){return l},zA:function(){return f}});var r=t(65456),i=t(48551),a=t(15583),o=t(91131),c=t(15165),u=function(e){var n=e.sort((function(e,n){var t=(0,i.U$)(e.path);return(0,i.U$)(n.path)-t})),t=[];return n.forEach((function(e,r){for(var i=r+1;i<n.length;i++)if((0,a.yr)(n[i].path,e.path))return;t.push(e)})),t},l=(0,o.cn)([]),s=function(e){if(1===e.length)return e[0].type===r.Tv.File?"file":"folder";if(e.length>1){var n=e.filter((function(e){return e.type===r.Tv.File})).length,t=e.filter((function(e){return e.type===r.Tv.Directory})).length,i=n>1?"files":"file",a=t>1?"folders":"folder",o="file";return n>0&&t>0?o="".concat(i," and ").concat(a):n>0?o="".concat(i):t>0&&(o="".concat(a)),"".concat(o)}return""},d=(0,o.cn)((function(e){var n=e(l),t=n.slice(0,5).map((function(e){return e.path})).join(", ");return n.length>5?"".concat(t," and ").concat(n.length-5," more ").concat(s(n.slice(5))):t})),f=(0,o.cn)((function(e){var n=e(l),t=s(n);return 1===n.length?t:"".concat(n.length," ").concat(t)})),p=(0,o.cn)([]),h=function(){return(0,o.KO)(p,c.l)}},67911:function(e,n,t){t.d(n,{Fz:function(){return b},Th:function(){return g},dg:function(){return h},p$:function(){return Z}});var r=t(14924),i=t(26042),a=t(69396),o=t(21131),c=t(31066),u=t(91131),l=t(64824),s=t(67294),d=t(89075),f=t(83043),p=t(15165),h=function(e){var n=(0,o.Z)((function(){return(0,l.kv)(f.Aw,(function(n){return n[e]}))}),[e]),t=(0,d.ko)(),r=(0,d.l5)(),s=(0,o.Z)((function(){return(0,u.cn)((function(o){var u,l=o(n);if(l)return(0,a.Z)((0,i.Z)({},l),{children:null===(u=l.children)||void 0===u?void 0:u.map((function(n){var t=n.filename;return{filename:t,type:n.type,path:e===c.Ql?t:"".concat(e,"/").concat(t)}})).filter(t).sort(r)})}))}),[n,e,t,r]);return(0,u.Dv)(s,p.l)},v=(0,u.cn)(null,(function(e,n,t){var o=t.path,c=t.expanded,u=e(f.Aw);c&&n(f.AQ,{path:o}),n(f.Aw,(0,a.Z)((0,i.Z)({},u),(0,r.Z)({},o,(0,a.Z)((0,i.Z)({},u[o]),{expanded:c}))))})),m=(0,u.cn)(null,(function(e,n,t){var r,i=null===(r=e(f.Aw)[t])||void 0===r?void 0:r.expanded;n(v,{path:t,expanded:!i})})),b=function(){return(0,u.b9)(m,p.l)},g=(0,u.cn)(null,(function(e,n,t){if(null!=t){var r=t.split("/").slice(0,-1);r.map((function(e,n){return r.slice(0,n+1).join("/")})).forEach((function(e){n(v,{path:e,expanded:!0})}))}})),Z=function(e){var n=(0,u.b9)(v,p.l);return{expand:s.useCallback((function(){n({path:e,expanded:!0})}),[e,n]),collapse:s.useCallback((function(){n({path:e,expanded:!1})}),[e,n])}}},83043:function(e,n,t){t.d(n,{AQ:function(){return b},Aw:function(){return h},Ol:function(){return g},Yc:function(){return Z}});var r=t(14924),i=t(26042),a=t(69396),o=t(67294),c=t(31066),u=t(91131),l=t(15165),s=t(18172),d=t(21131),f=(0,u.cn)(null),p=(0,u.cn)({}),h=(0,u.cn)({}),v=(0,u.cn)(null,(function(e,n,t){var r=e(p),i=(0,s.ZP)(r,(function(e){delete e[t]}));n(p,i)})),m=(0,u.cn)(null,(function(e){var n=e(p),t=Object.values(n),r=!0,i=!1,a=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){(0,o.value)()}}catch(u){i=!0,a=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}})),b=(0,u.cn)(null,(function(e,n,t){var o=t.path,c=e(f);if(c){var u=e(p);if(!u[o]){var l=c.watchDir(o,{onChange:function(t){var c=e(h);n(h,(0,a.Z)((0,i.Z)({},c),(0,r.Z)({},o,(0,a.Z)((0,i.Z)({},c[o]),{children:t}))))},onMoveOrDelete:function(){n(v,o);var t=e(h),r=(0,s.ZP)(t,(function(e){delete e[o]}));n(h,r)},onError:function(t){var r=e(h),c=(0,s.ZP)(r,(function(e){e[o]=(0,a.Z)((0,i.Z)({},e[o]),{error:t})}));n(h,c)}}),d=(0,s.ZP)(u,(function(e){e[o]=l}));n(p,d)}}})),g=function(){var e=(0,u.b9)(b,l.l);return(0,d.Z)((function(){return function(n){return e({path:n})}}),[e])},Z=function(e){var n=e.fs,t=(0,u.b9)(f,l.l),r=g(),i=(0,u.b9)(m,l.l);o.useEffect((function(){return t(n),r(c.Ql),function(){i(),t(null)}}),[i,r,n,t])}},12365:function(e,n,t){t.d(n,{D:function(){return c},S:function(){return s}});var r=t(35944),i=t(67294),a=t(91131),o=t(15165),c=function(e){var n=e.children;return(0,r.tZ)(a.zt,{scope:o.l,children:n})},u=t(53008),l=t(89075),s=function(e){var n=(0,a.b9)(l.dd,o.l);i.useEffect((function(){n(e)}),[e,n]);var t=e.activeFile,r=(0,u.Hc)();i.useEffect((function(){t&&r(t)}),[t,r])}},53008:function(e,n,t){t.d(n,{m5:function(){return k},dv:function(){return y},IQ:function(){return N},n5:function(){return D},qp:function(){return P},Ol:function(){return C},Hc:function(){return Z},lK:function(){return j}});var r=t(14924),i=t(26042),a=t(18172),o=t(91131),c=t(65456),u=t(15165),l=t(21131),s=t(64824),d=t(83043),f=t(29815),p=t(31066),h=t(89075),v=(0,o.cn)((function(e){var n=e(d.Aw),t=e(h.XC),r=e(h.ob);return function e(i){var a=i!==p.Ql&&i!==p.oh?[{path:i,type:c.Tv.Directory}]:[],o=n[i];if(!o)return a;var u=o.children,l=o.error;return!o.expanded&&i!==p.Ql&&i!==p.oh||l||null===u||void 0===u||u.map((function(e){var n=e.filename;return{filename:n,type:e.type,path:i===p.Ql?n:"".concat(i,"/").concat(n)}})).filter(t).sort(r).forEach((function(n){var t,r=n.type,i=n.path;r===c.Tv.Directory?(t=a).push.apply(t,(0,f.Z)(e(i))):a.push({type:r,path:i})})),a}(p.Ql)})),m=t(87588),b=t(67911),g=(0,o.cn)(null,(function(e,n,t){n(m.G2,t),n(E,t),n(b.Th,t)})),Z=function(){return(0,o.b9)(g,u.l)},x=(0,o.cn)({}),w=(0,o.cn)({}),y=(0,o.cn)((function(e){var n=e(x),t=e(w);return(0,i.Z)({},n,t)})),k=(0,o.cn)((function(e){var n=e(d.Aw),t=e(y);return Object.keys(t).map((function(e){return{path:e,type:Object.prototype.hasOwnProperty.call(n,e)?c.Tv.Directory:c.Tv.File}}))})),C=function(){return(0,o.Dv)(k,u.l)},E=(0,o.cn)(null,(function(e,n,t){n(x,t?(0,r.Z)({},t,!0):{}),n(w,{})})),R=(0,o.cn)(null,(function(e,n,t){var r=e(x),i=e(w),o=(0,a.ZP)(r,(function(e){e[t]||i[t]?delete e[t]:e[t]=!0}));n(x,o);var c=(0,a.ZP)(i,(function(e){e[t]&&delete e[t]}));n(w,c)})),T=(0,o.cn)(null,(function(e,n,t){var r=e(v);if(r){var i=r.findIndex((function(e){return e.path===t})),o=e(m.G2),c=r.findIndex((function(e){return e.path===o})),u=r.slice(Math.min(i,c),Math.max(i,c)+1),l=e(x),s=(0,a.ZP)(l,(function(e){u.forEach((function(n){e[n.path]&&delete e[n.path]}))}));n(x,s);var d=u.reduce((function(e,n){return e[n.path]=!0,e}),{});n(w,d)}})),D=function(e){var n=(0,l.Z)((function(){return(0,s.kv)(y,(function(n){return n[e]}))}),[e]);return(0,o.Dv)(n,u.l)},P=function(){return(0,o.b9)(E,u.l)},j=function(){return(0,o.b9)(R,u.l)},N=function(){return(0,o.b9)(T,u.l)}},15165:function(e,n,t){t.d(n,{l:function(){return r}});var r=Symbol("filetree")},66681:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(26042),i=t(35944),a=(t(67294),t(92350)),o=t(96711),c=t(51010);function u(e){var n=e.source,t=e.sourcePos,u=e.fs,l=e.path,s=(0,o.l)(u,l);return(0,i.tZ)(a.ZP,{asyncCodeHighlighting:!0,components:{img:s,a:function(e){return(0,i.tZ)(c.Z,(0,r.Z)({filePath:l},e))}},sourcePos:t,children:n})}},63872:function(e,n,t){t.d(n,{A:function(){return s},Z:function(){return l}});var r=t(35944),i=t(67294),a=t(48551),o=t(15085),c=t(6148),u=t(77365);function l(e){var n=e.fs,t=e.filePath,l=(0,i.useState)(null),d=l[0],f=l[1],p=(0,i.useState)(!0),h=p[0],v=p[1];return(0,i.useEffect)((function(){var e=n.watchFile(t,{onChange:function(e){f(e.toString("base64")),v(!1)},onError:function(){f(null),v(!1)},onMoveOrDelete:function(){f(null),v(!1)}});return function(){e(),v(!0),f(null)}}),[n,t]),h?(0,r.tZ)(u.Z,{}):d?(0,r.BX)(r.HY,{children:[(0,r.tZ)(s,{content:d,mime:(0,a.yC)(t)}),(0,r.tZ)(o.hU,{alt:"Download",css:[o.l0.position.absolute,o.l0.bottom(8),o.l0.right(8),o.l0.p(16)],children:(0,r.tZ)("a",{href:"data:text/plain;base64,".concat(d),download:(0,a.UO)(t),css:[o.l0.color.foregroundDimmer],children:(0,r.tZ)(c.Z,{})})})]}):(0,r.tZ)(o.xv,{children:"Failed to load media file"})}var s=function(e){var n=e.content,t=e.mime,i=void 0===t?"":t;if(i.startsWith("video/"))return(0,r.tZ)("video",{src:"data:".concat(i,";base64,").concat(n),css:{maxHeight:"100%",maxWidth:"100%"},controls:!0});if(i.startsWith("image/"))return(0,r.tZ)("img",{alt:"Preview",src:"data:".concat(i,";base64,").concat(n),css:{width:"80%",height:"80%",objectFit:"contain",imageRendering:"pixelated"}});if(i.startsWith("audio/")){var a=i;return"audio/wave"===a&&(a="audio/wav"),(0,r.tZ)("audio",{src:"data:".concat(a,";base64,").concat(n),css:{maxHeight:"100%",maxWidth:"100%"},controls:!0})}return"application/pdf"===i?(0,r.tZ)("object",{data:"data:".concat(i,";base64,").concat(n),type:"application/pdf",css:{width:"100%",height:"100%",flex:1},children:(0,r.tZ)("embed",{src:"data:".concat(i,";base64,").concat(n),type:"application/pdf",css:{width:"100%",height:"100%"}})}):(0,r.tZ)(o.xv,{children:"File type not supported."})}},24337:function(e,n,t){t.d(n,{Z:function(){return x}});var r,i=t(47568),a=t(10253),o=t(34051),c=t.n(o),u=t(35944),l=t(60536),s=t.n(l),d=t(67294),f=t(92876),p=t(96189),h=t(60977),v=t(48506),m=t(75240),b=t(6625),g=t(77365);!function(e){e.Connecting="Connecting",e.Connected="Connected",e.Disconnected="Disconnected"}(r||(r={}));var Z="VNC_PASSWORD";function x(e){var n=e.fs,o=e.container,l=(0,a.Z)(d.useState(null),2),x=l[0],w=l[1],y=(0,a.Z)(d.useState(void 0),2),k=y[0],C=y[1],E=(0,a.Z)(d.useState(r.Connecting),2),R=E[0],T=E[1],D=(0,a.Z)(d.useState(null),2),P=D[0],j=D[1],N=(0,a.Z)(d.useState(!1),2),A=N[0],F=N[1],S=(0,a.Z)(d.useState(!1),2),O=S[0],U=S[1],L=(0,a.Z)(d.useState(null),2),I=L[0],z=L[1],B=d.useRef(0),M=(0,b.Z)();(0,h.j)(h.U3.VNC_OPENED),d.useEffect((function(){if(o.getConnectionState()!==m.e.CONNECTED)return o.onConnectionStateChanged((function(e){e===m.e.CONNECTED&&z(o.getVncUrl())}));z(o.getVncUrl())}),[o]);var W=(0,a.Z)(d.useState(null),2),V=W[0],X=W[1],G=d.useRef((function(){return null}));d.useEffect((function(){G.current()}),[V]);var K=(0,p.Z)((function(e){return X(e.width&&e.height?{width:e.width,height:e.height}:null)}),{type:"throttle",wait:100}),Q=d.useRef((function(e){}));d.useEffect((function(){Q.current(O)}),[O]),d.useEffect((function(){if(!x){var e=!1;return t.e(581).then(t.bind(t,80581)).then((function(n){e||w(n)})),function(){e=!0}}}),[x]),d.useEffect((function(){R===r.Disconnected&&setTimeout((function(){M.current&&T(r.Connecting)}),Math.random()*(Math.pow(2,B.current)-1)*1e3)}),[R,M]),d.useEffect((function(){if(I&&P&&x&&R===r.Connecting){B.current++;var e=x.default,t=o.getConnectionMetadata(),a={credentials:{username:null===t||void 0===t?void 0:t.token,password:k||""}};(0,h.j)(h.U3.VNC_CONNECTED);var u=new e(P,I,a);u.scaleViewport=!0,u.resizeSession=!0;var l=function(){M.current&&(B.current=0,T(r.Connected))},s=function(e){var n=e.detail.capabilities.audio;F(void 0!==window.MediaSource&&!!n)},d=function(){G.current=function(){return null},Q.current=function(e){},u.removeEventListener("securityfailure",p),u.removeEventListener("disconnect",d),u.removeEventListener("capabilities",s),u.removeEventListener("connect",l),M.current&&T(r.Disconnected)},p=function(){if(M.current){var e=function(){var e=window.prompt("The output is password protected, please input it:");e&&C(e)},t=function(){var t=(0,i.Z)(c().mark((function t(){var r,i,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.readFile(".env");case 2:if(r=t.sent,M.current){t.next=5;break}return t.abrupt("return");case 5:if(!r.error){t.next=8;break}return e(),t.abrupt("return");case 8:if(i=r.content.toString("utf8"),a=v.Z.parse(i),Z in a){t.next=13;break}return e(),t.abrupt("return");case 13:C(a.VNC_PASSWORD);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t().catch((function(e){return f.Tb(e)}))}};return u.addEventListener("connect",l),u.addEventListener("capabilities",s),u.addEventListener("disconnect",d),u.addEventListener("securityfailure",p),G.current=function(){return u._windowResize()},F(!1),U(!1),Q.current=function(n){n?((0,h.j)(h.U3.VNC_AUDIO_ENABLED),u.enableAudio(2,window.MediaSource.isTypeSupported("audio/webm;codecs=opus")?e.audioCodecs.OpusWebM:e.audioCodecs.MP3,32768)):u.disableAudio()},function(){M.current||(G.current=function(){return null},Q.current=function(e){},u.removeEventListener("securityfailure",p),u.removeEventListener("disconnect",d),u.removeEventListener("capabilities",s),u.removeEventListener("connect",l),u.disconnect())}}}),[x,P,o,I,n,k,R,M]);var H="vnc-output-".concat(R.toLowerCase());return(0,u.BX)("div",{className:"jsx-612fb0831fb3a82c vnc",children:[A?(0,u.BX)("label",{className:"jsx-612fb0831fb3a82c vnc-audio",children:["\ud83c\udfa7"," ",(0,u.tZ)("input",{type:"checkbox",checked:O,onChange:function(e){return U(e.target.checked)},className:"jsx-612fb0831fb3a82c"})]}):null,(0,u.tZ)("div",{ref:function(e){K(e),j(e)},"data-cy":H,className:"jsx-612fb0831fb3a82c vnc-target"}),R!==r.Connected&&(0,u.tZ)("div",{className:"jsx-612fb0831fb3a82c vnc-overlay",children:(0,u.tZ)(g.Z,{size:32})}),(0,u.tZ)(s(),{id:"612fb0831fb3a82c",children:".vnc.jsx-612fb0831fb3a82c{position:relative}.vnc.jsx-612fb0831fb3a82c,.vnc-target.jsx-612fb0831fb3a82c{height:100%;width:100%}.vnc-audio.jsx-612fb0831fb3a82c{position:absolute;bottom:0;right:0;padding:.2em}.vnc-overlay.jsx-612fb0831fb3a82c{top:0;position:absolute;height:100%;width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;background:rgba(0,0,0,.85);color:var(--white)}"})]})}},37452:function(e,n,t){t.d(n,{T:function(){return Z},W:function(){return x}});var r=t(47568),i=t(10253),a=t(34051),o=t.n(a),c=t(15519),u=t(84810),l=t(65456),s=t(31066),d=t(17780),f=t(7297),p=t(31230);function h(){var e=(0,f.Z)(['\n  query LoadDefaultFile($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        language\n      }\n    }\n    currentUser {\n      id\n      flagReadmePreview: gate(feature: "flag-readme-preview")\n    }\n  }\n']);return h=function(){return e},e}var v=(0,p.Ps)(h());var m=t(48551),b=".replit",g="replit.nix";function Z(e,n){var t=n.startsWith("nix"),r=t?null:c.Z.getMainFileName(n);if(r&&c.Z.usesInterpreter(n)&&e.includes(r))return r;if(e.includes("Makefile"))return"Makefile";if(r&&e.includes(r))return r;if(!t&&e.includes(b))return".replit";var i=e.find(m.gK);return i||e.find((function(e){return(!t||![b,g].includes(e))&&!(0,u.C)(e)}))}function x(e){return w.apply(this,arguments)}function w(){return w=(0,r.Z)(o().mark((function e(n){var t,a,c,u,f,p,h,b,g,x,w,y,k,C,E,R;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k=function(){return C.apply(this,arguments)},C=function(){return C=(0,r.Z)(o().mark((function e(){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===g||void 0===g?void 0:g.entrypoint){e.next=3;break}return e.abrupt("return",null);case 3:if((0,m.Il)(n)){e.next=6;break}return e.abrupt("return",y.includes(n)?n:null);case 6:return e.next=8,a.stat(n);case 8:return t=e.sent,e.abrupt("return",t.exists&&t.type===l.Tv.File?n:null);case 10:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)},t=n.dotReplit,a=n.fs,c=n.replId,d.l){e.next=6;break}throw new Error("Expected apollo client");case 6:return e.t0=i.Z,e.next=9,Promise.all([d.l.query({query:v,variables:{replId:c}}),a.readDir(s.Ql),t.getConfig()]);case 9:if(e.t1=e.sent,f=(0,e.t0)(e.t1,3),p=f[0].data,h=f[1],b=f[2],g=b.config,h&&!h.error){e.next=17;break}throw new Error("Could not read files");case 17:return x=h.children,w=x.find((function(e){return e.type===l.Tv.File&&e.filename.toLowerCase().endsWith("readme.md")})),y=x.filter((function(e){return e.type===l.Tv.File})).map((function(e){return e.filename})),e.next=24,k();case 24:if(!(E=e.sent)){e.next=27;break}return e.abrupt("return",{entrypoint:E,readmeFile:null===w||void 0===w?void 0:w.filename});case 27:if(R="Repl"===p.repl.__typename?p.repl.language:"","CurrentUser"===(null===(u=p.currentUser)||void 0===u?void 0:u.__typename)&&p.currentUser.flagReadmePreview||!(null===w||void 0===w?void 0:w.filename)){e.next=31;break}return e.abrupt("return",{entrypoint:w.filename,readmeFile:w.filename});case 31:return e.abrupt("return",{entrypoint:Z(y,R),readmeFile:null===w||void 0===w?void 0:w.filename});case 32:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}},69453:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(60977);function i(e){(0,r.j)(r.U3.FILETREE_USED,e)}},54992:function(e,n,t){t.d(n,{DQ:function(){return l},Dp:function(){return o},F3:function(){return s},KM:function(){return u},Zh:function(){return c},b:function(){return f}});var r=t(70917),i=t(15085),a=t(48551);function o(e){var n=e.path;return n?(0,a.T3)(n)?"media":(0,a.sL)(n)?"draw":(0,a.IQ)(n)?"pedit":"codeEditor":"codeEditor"}function c(e){return"codeEditor"===e||"media"===e||"pedit"===e||"draw"===e||"history"===e}function u(e){return c(e.type)}function l(e){return u(e)?e.data.path:null}var s=(0,r.iv)([i.l0.width("100%"),i.l0.maxWidth(600),{marginLeft:"auto",marginRight:"auto"}]),d=["autograder","education","instructions","markdown","threadInbox","chat","docs","webview","vnc","runnerOutput","git","packager","envEditor","debugger","tutorial","kaboombar","database","replAuth","autograder","unitTests","education","preferences","adminPanel"];function f(e){return d.includes(e)}},7657:function(e,n,t){var r;t.d(n,{N:function(){return r}}),function(e){e.AdminTutorialUpdate="admin-tutorial-update",e.CommunityPost="community-post",e.ProfileImage="profile-image",e.ProfileCoverImage="profile-cover-image",e.TemplateIcon="template-icon",e.ReplIcon="repl-icon",e.ReplCoverImage="repl-cover-image",e.TrainingProfileImage="training-profile-image"}(r||(r={}))}}]);
//# sourceMappingURL=8393-01fef66010445430.js.map